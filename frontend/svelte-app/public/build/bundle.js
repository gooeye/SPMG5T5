var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(e,...n){if(null==e)return t;const l=e.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function r(t){let e;return o(t,(t=>e=t))(),e}function i(t,e,n){t.$$.on_destroy.push(o(e,n))}function c(t,e,n){return t.set(n),e}function u(e){return e&&s(e.destroy)?e.destroy:t}function d(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function v(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function y(){return g(" ")}function $(){return g("")}function b(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function w(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.data!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function C(t,e,n,l){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function T(t,e,n){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function D(t){const e=t.querySelector(":checked");return e&&e.__value}function E(t,e,n){t.classList[n?"add":"remove"](e)}function M(t,e){return new t(e)}let S;function z(t){S=t}function j(){if(!S)throw new Error("Function called outside component initialization");return S}function F(t){j().$$.on_mount.push(t)}function A(t){j().$$.after_update.push(t)}function P(t){j().$$.on_destroy.push(t)}function H(){const t=j();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const a=function(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,l,e),s}(e,n,{cancelable:l});return s.slice().forEach((e=>{e.call(t,a)})),!a.defaultPrevented}return!0}}function U(t){return j().$$.context.get(t)}function R(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const N=[],L=[];let q=[];const I=[],B=Promise.resolve();let O=!1;function W(){O||(O=!0,B.then(K))}function G(){return W(),B}function Y(t){q.push(t)}const V=new Set;let J=0;function K(){if(0!==J)return;const t=S;do{try{for(;J<N.length;){const t=N[J];J++,z(t),Q(t.$$)}}catch(t){throw N.length=0,J=0,t}for(z(null),N.length=0,J=0;L.length;)L.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];V.has(e)||(V.add(e),e())}q.length=0}while(N.length);for(;I.length;)I.pop()();O=!1,V.clear(),z(t)}function Q(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}const X=new Set;let Z;function tt(){Z={r:0,c:[],p:Z}}function et(){Z.r||l(Z.c),Z=Z.p}function nt(t,e){t&&t.i&&(X.delete(t),t.i(e))}function lt(t,e,n,l){if(t&&t.o){if(X.has(t))return;X.add(t),Z.c.push((()=>{X.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}else l&&l()}function st(t,e){t.d(1),e.delete(t.key)}function at(t,e){lt(t,1,1,(()=>{e.delete(t.key)}))}function ot(t,e,n,s,a,o,r,i,c,u,d,f){let h=t.length,m=o.length,p=h;const v={};for(;p--;)v[t[p].key]=p;const g=[],y=new Map,$=new Map,b=[];for(p=m;p--;){const t=f(a,o,p),l=n(t);let i=r.get(l);i?s&&b.push((()=>i.p(t,e))):(i=u(l,t),i.c()),y.set(l,g[p]=i),l in v&&$.set(l,Math.abs(p-v[l]))}const w=new Set,k=new Set;function x(t){nt(t,1),t.m(i,d),r.set(t.key,t),d=t.first,m--}for(;h&&m;){const e=g[m-1],n=t[h-1],l=e.key,s=n.key;e===n?(d=e.first,h--,m--):y.has(s)?!r.has(l)||w.has(l)?x(e):k.has(s)?h--:$.get(l)>$.get(s)?(k.add(l),x(e)):(w.add(s),h--):(c(n,r),h--)}for(;h--;){const e=t[h];y.has(e.key)||c(e,r)}for(;m;)x(g[m-1]);return l(b),g}function rt(t){t&&t.c()}function it(t,n,a,o){const{fragment:r,after_update:i}=t.$$;r&&r.m(n,a),o||Y((()=>{const n=t.$$.on_mount.map(e).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...n):l(n),t.$$.on_mount=[]})),i.forEach(Y)}function ct(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];q.forEach((l=>-1===t.indexOf(l)?e.push(l):n.push(l))),n.forEach((t=>t())),q=e}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ut(e,s,a,o,r,i,c,u=[-1]){const d=S;z(e);const f=e.$$={fragment:null,ctx:[],props:i,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(d?d.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:s.target||d.$$.root};c&&c(f.root);let m=!1;if(f.ctx=a?a(e,s.props||{},((t,n,...l)=>{const s=l.length?l[0]:n;return f.ctx&&r(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),m&&function(t,e){-1===t.$$.dirty[0]&&(N.push(t),W(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),m=!0,l(f.before_update),f.fragment=!!o&&o(f.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);f.fragment&&f.fragment.l(t),t.forEach(h)}else f.fragment&&f.fragment.c();s.intro&&nt(e.$$.fragment),it(e,s.target,s.anchor,s.customElement),K()}z(d)}class dt{$destroy(){ct(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const t=l.indexOf(n);-1!==t&&l.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ft=[];function ht(t,e){return{subscribe:mt(t,e).subscribe}}function mt(e,n=t){let l;const s=new Set;function o(t){if(a(e,t)&&(e=t,l)){const t=!ft.length;for(const t of s)t[1](),ft.push(t,e);if(t){for(let t=0;t<ft.length;t+=2)ft[t][0](ft[t+1]);ft.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,r=t){const i=[a,r];return s.add(i),1===s.size&&(l=n(o)||t),a(e),()=>{s.delete(i),0===s.size&&l&&(l(),l=null)}}}}function pt(e,n,a){const r=!Array.isArray(e),i=r?[e]:e,c=n.length<2;return ht(a,(e=>{let a=!1;const u=[];let d=0,f=t;const h=()=>{if(d)return;f();const l=n(r?u[0]:u,e);c?e(l):f=s(l)?l:t},m=i.map(((t,e)=>o(t,(t=>{u[e]=t,d&=~(1<<e),a&&h()}),(()=>{d|=1<<e}))));return a=!0,h(),function(){l(m),f(),a=!1}}))}const vt={base_url:process.env.BASE_URL||"http://localhost:5000"};function gt(t,e,n){const l=t.slice();return l[31]=e[n],l}function yt(t){let e,n,l,s,a,o,r,i=4===t[0]?"Review":"Next";function c(t,e){return 1===t[0]?xt:2===t[0]?kt:3===t[0]?wt:4===t[0]?bt:void 0}let u=c(t),m=u&&u(t),v=t[0]>1&&Dt(t);return{c(){m&&m.c(),e=y(),n=p("div"),v&&v.c(),l=y(),s=p("button"),a=g(i),k(s,"class","next-button svelte-1ay2dyh"),k(n,"class","buttons svelte-1ay2dyh")},m(i,c){m&&m.m(i,c),f(i,e,c),f(i,n,c),v&&v.m(n,null),d(n,l),d(n,s),d(s,a),o||(r=b(s,"click",t[12]),o=!0)},p(t,s){u===(u=c(t))&&m?m.p(t,s):(m&&m.d(1),m=u&&u(t),m&&(m.c(),m.m(e.parentNode,e))),t[0]>1?v?v.p(t,s):(v=Dt(t),v.c(),v.m(n,l)):v&&(v.d(1),v=null),1&s[0]&&i!==(i=4===t[0]?"Review":"Next")&&x(a,i)},d(t){m&&m.d(t),t&&h(e),t&&h(n),v&&v.d(),o=!1,r()}}}function $t(t){let e,n,s,a,o,r,i,c,u,m,v,$,w,_,C,T,D,E,M,S,z,j,F,A,P,H,U,R,N,L,q=("full-day"===t[4]?"Full Day":t[6])+"",I="weekly"===t[2]&&Et(t);return{c(){e=p("div"),n=p("h3"),n.textContent="Review your application",s=y(),a=p("p"),o=p("strong"),o.textContent="Date:",r=y(),i=g(t[1]),c=y(),u=p("p"),m=p("strong"),m.textContent="Application Type:",v=y(),$=g(t[2]),w=y(),I&&I.c(),_=y(),C=p("p"),T=p("strong"),T.textContent="Time:",D=y(),E=g(q),M=y(),S=p("p"),z=p("strong"),z.textContent="Reason:",j=y(),F=g(t[7]),A=y(),P=p("div"),H=p("button"),H.textContent="Back to Edit",U=y(),R=p("button"),R.textContent="Submit",k(e,"class","review-box svelte-1ay2dyh"),k(H,"class","back-button svelte-1ay2dyh"),k(R,"class","next-button svelte-1ay2dyh"),k(P,"class","buttons svelte-1ay2dyh")},m(l,h){f(l,e,h),d(e,n),d(e,s),d(e,a),d(a,o),d(a,r),d(a,i),d(e,c),d(e,u),d(u,m),d(u,v),d(u,$),d(e,w),I&&I.m(e,null),d(e,_),d(e,C),d(C,T),d(C,D),d(C,E),d(e,M),d(e,S),d(S,z),d(S,j),d(S,F),f(l,A,h),f(l,P,h),d(P,H),d(P,U),d(P,R),N||(L=[b(H,"click",t[22]),b(R,"click",t[21])],N=!0)},p(t,n){2&n[0]&&x(i,t[1]),4&n[0]&&x($,t[2]),"weekly"===t[2]?I?I.p(t,n):(I=Et(t),I.c(),I.m(e,_)):I&&(I.d(1),I=null),80&n[0]&&q!==(q=("full-day"===t[4]?"Full Day":t[6])+"")&&x(E,q),128&n[0]&&x(F,t[7])},d(t){t&&h(e),I&&I.d(),t&&h(A),t&&h(P),N=!1,l(L)}}}function bt(t){let e,n,l,s,a,o;return{c(){e=p("h3"),e.textContent="Reason",n=y(),l=p("div"),s=p("textarea"),k(s,"placeholder","Please provide a reason for your WFH request"),k(s,"aria-label","Reason for WFH request"),k(s,"rows","4"),k(s,"class","svelte-1ay2dyh"),k(l,"class","form-group svelte-1ay2dyh")},m(r,i){f(r,e,i),f(r,n,i),f(r,l,i),d(l,s),_(s,t[7]),a||(o=b(s,"input",t[29]),a=!0)},p(t,e){128&e[0]&&_(s,t[7])},d(t){t&&h(e),t&&h(n),t&&h(l),a=!1,o()}}}function wt(t){let e,n,s,a,o,r,i,c,u,m,v,$,w,x,_,C=t[5]&&_t(t);return{c(){e=p("h3"),e.textContent="Work Arrangement",n=y(),s=p("div"),a=p("label"),o=p("input"),i=g(" \n                        Full Day"),c=y(),u=p("label"),m=p("input"),$=g(" \n                        Part Day"),w=y(),C&&C.c(),k(o,"type","radio"),k(o,"name","dayOption"),o.value="full-day",o.checked=r="full-day"===t[4],k(a,"class","svelte-1ay2dyh"),k(m,"type","radio"),k(m,"name","dayOption"),m.value="part-day",m.checked=v="part-day"===t[4],k(u,"class","svelte-1ay2dyh"),k(s,"class","form-group svelte-1ay2dyh")},m(l,r){f(l,e,r),f(l,n,r),f(l,s,r),d(s,a),d(a,o),d(a,i),d(s,c),d(s,u),d(u,m),d(u,$),d(s,w),C&&C.m(s,null),x||(_=[b(o,"change",t[17]),b(m,"change",t[17])],x=!0)},p(t,e){16&e[0]&&r!==(r="full-day"===t[4])&&(o.checked=r),16&e[0]&&v!==(v="part-day"===t[4])&&(m.checked=v),t[5]?C?C.p(t,e):(C=_t(t),C.c(),C.m(s,null)):C&&(C.d(1),C=null)},d(t){t&&h(e),t&&h(n),t&&h(s),C&&C.d(),x=!1,l(_)}}}function kt(t){let e,n,s,a,o,r,i,c,u,m,v,$,w,x,_,C="weekly"===t[2]&&Ct(t);return{c(){e=p("h3"),e.textContent="Application Type",n=y(),s=p("div"),a=p("label"),o=p("input"),i=g(" \n                        One-time application"),c=y(),u=p("label"),m=p("input"),$=g(" \n                        Repeated weekly"),w=y(),C&&C.c(),k(o,"type","radio"),k(o,"name","applicationType"),o.value="one-time",o.checked=r="one-time"===t[2],k(a,"class","svelte-1ay2dyh"),k(m,"type","radio"),k(m,"name","applicationType"),m.value="weekly",m.checked=v="weekly"===t[2],k(u,"class","svelte-1ay2dyh"),k(s,"class","form-group svelte-1ay2dyh")},m(l,r){f(l,e,r),f(l,n,r),f(l,s,r),d(s,a),d(a,o),d(a,i),d(s,c),d(s,u),d(u,m),d(u,$),d(s,w),C&&C.m(s,null),x||(_=[b(o,"change",t[14]),b(m,"change",t[14])],x=!0)},p(t,e){4&e[0]&&r!==(r="one-time"===t[2])&&(o.checked=r),4&e[0]&&v!==(v="weekly"===t[2])&&(m.checked=v),"weekly"===t[2]?C?C.p(t,e):(C=Ct(t),C.c(),C.m(s,null)):C&&(C.d(1),C=null)},d(t){t&&h(e),t&&h(n),t&&h(s),C&&C.d(),x=!1,l(_)}}}function xt(t){let e,n,s,a,o,r,i,c;return{c(){e=p("h2"),e.textContent="Apply for WFH Arrangement",n=y(),s=p("div"),a=p("label"),a.textContent="Select WFH Date:",o=y(),r=p("input"),k(e,"id","modal-title"),k(a,"for","wfh-date"),k(a,"class","svelte-1ay2dyh"),k(r,"type","date"),k(r,"id","wfh-date"),k(r,"min",(new Date).toISOString().split("T")[0]),k(s,"class","form-group svelte-1ay2dyh")},m(l,u){f(l,e,u),f(l,n,u),f(l,s,u),d(s,a),d(s,o),d(s,r),_(r,t[1]),i||(c=[b(r,"input",t[24]),b(r,"change",t[11])],i=!0)},p(t,e){2&e[0]&&_(r,t[1])},d(t){t&&h(e),t&&h(n),t&&h(s),i=!1,l(c)}}}function _t(t){let e,n,s,a,o,r,i,c,u,m,v,$;return{c(){e=p("div"),n=p("button"),s=g("AM"),r=y(),i=p("button"),c=g("PM"),k(n,"class",a="day-option "+("AM"===t[6]?"selected":"")+" svelte-1ay2dyh"),k(n,"aria-pressed",o="AM"===t[6]),k(i,"class",u="day-option "+("PM"===t[6]?"selected":"")+" svelte-1ay2dyh"),k(i,"aria-pressed",m="PM"===t[6]),k(e,"role","group"),k(e,"aria-label","Part day selection"),k(e,"class","part-day-options svelte-1ay2dyh")},m(l,a){f(l,e,a),d(e,n),d(n,s),d(e,r),d(e,i),d(i,c),v||($=[b(n,"click",t[27]),b(i,"click",t[28])],v=!0)},p(t,e){64&e[0]&&a!==(a="day-option "+("AM"===t[6]?"selected":"")+" svelte-1ay2dyh")&&k(n,"class",a),64&e[0]&&o!==(o="AM"===t[6])&&k(n,"aria-pressed",o),64&e[0]&&u!==(u="day-option "+("PM"===t[6]?"selected":"")+" svelte-1ay2dyh")&&k(i,"class",u),64&e[0]&&m!==(m="PM"===t[6])&&k(i,"aria-pressed",m)},d(t){t&&h(e),v=!1,l($)}}}function Ct(t){let e,n,l,s,a,o,r,i,c=(t[3].join(", ")||"None")+"",u=t[10],v=[];for(let e=0;e<u.length;e+=1)v[e]=Tt(gt(t,u,e));return{c(){e=p("div"),n=p("h4"),n.textContent="Select Days (max 3):",l=y(),s=p("div");for(let t=0;t<v.length;t+=1)v[t].c();a=y(),o=p("p"),r=g("Selected: "),i=g(c),k(s,"role","group"),k(s,"aria-label","Day selection"),k(s,"class","days-container svelte-1ay2dyh"),k(o,"class","selected-days svelte-1ay2dyh"),k(e,"class","days-selection")},m(t,c){f(t,e,c),d(e,n),d(e,l),d(e,s);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(s,null);d(e,a),d(e,o),d(o,r),d(o,i)},p(t,e){if(99336&e[0]){let n;for(u=t[10],n=0;n<u.length;n+=1){const l=gt(t,u,n);v[n]?v[n].p(l,e):(v[n]=Tt(l),v[n].c(),v[n].m(s,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=u.length}8&e[0]&&c!==(c=(t[3].join(", ")||"None")+"")&&x(i,c)},d(t){t&&h(e),m(v,t)}}}function Tt(t){let e,n,s,a,o,r,i,c=t[31]+"";function u(){return t[25](t[31])}function m(...e){return t[26](t[31],...e)}return{c(){e=p("button"),n=g(c),s=y(),k(e,"class",a="day-option "+(t[3].includes(t[31])?"selected":"")+" svelte-1ay2dyh"),k(e,"aria-pressed",o=t[3].includes(t[31]))},m(t,l){f(t,e,l),d(e,n),d(e,s),r||(i=[b(e,"click",u),b(e,"keypress",m)],r=!0)},p(n,l){t=n,8&l[0]&&a!==(a="day-option "+(t[3].includes(t[31])?"selected":"")+" svelte-1ay2dyh")&&k(e,"class",a),8&l[0]&&o!==(o=t[3].includes(t[31]))&&k(e,"aria-pressed",o)},d(t){t&&h(e),r=!1,l(i)}}}function Dt(e){let n,l,s;return{c(){n=p("button"),n.textContent="Back",k(n,"class","back-button svelte-1ay2dyh")},m(t,a){f(t,n,a),l||(s=b(n,"click",e[13]),l=!0)},p:t,d(t){t&&h(n),l=!1,s()}}}function Et(t){let e,n,l,s,a=t[3].join(", ")+"";return{c(){e=p("p"),n=p("strong"),n.textContent="Selected Days:",l=y(),s=g(a)},m(t,a){f(t,e,a),d(e,n),d(e,l),d(e,s)},p(t,e){8&e[0]&&a!==(a=t[3].join(", ")+"")&&x(s,a)},d(t){t&&h(e)}}}function Mt(e){let n,s,a,o,r,i;function c(t,e){return t[8]?$t:yt}let u=c(e),m=u(e);return{c(){n=p("div"),s=p("div"),a=p("button"),a.textContent="×",o=y(),m.c(),k(a,"class","close-button svelte-1ay2dyh"),k(a,"aria-label","Close modal"),k(s,"class","modal-content svelte-1ay2dyh"),k(s,"role","document"),k(n,"class","modal-backdrop svelte-1ay2dyh"),k(n,"role","dialog"),k(n,"aria-modal","true"),k(n,"aria-labelledby","modal-title")},m(t,l){f(t,n,l),d(n,s),d(s,a),d(s,o),m.m(s,null),r||(i=[b(a,"click",e[23]),b(n,"click",e[19]),b(n,"keydown",e[20])],r=!0)},p(t,e){u===(u=c(t))&&m?m.p(t,e):(m.d(1),m=u(t),m&&(m.c(),m.m(s,null)))},i:t,o:t,d(t){t&&h(n),m.d(),r=!1,l(i)}}}function St(t,e,n){const l=H();let s=1,a="",o=!1,r="one-time",i=[];let c="full-day",u=!1,d="",f="",h=!1;const m=t=>{i.includes(t)?n(3,i=i.filter((e=>e!==t))):i.length<3?n(3,i=[...i,t]):alert("You can only select up to 3 days.")},p=(t,e)=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),m(e))},v=t=>{n(6,d=t)};return[s,a,r,i,c,u,d,f,h,l,["Mon","Tue","Wed","Thu","Fri"],()=>{let t=new Date,e=new Date(a).getTime()-t.getTime();o=e/36e5>=24},()=>{1!==s||a&&o?2!==s||"weekly"!==r||0!==i.length?3!==s||"part-day"!==c||d?4!==s||""!==f.trim()?4===s?n(8,h=!0):n(0,s+=1):alert("Please provide a reason."):alert("Please select AM or PM for Part Day."):alert("Please select at least one day."):alert("Please select a valid date at least 24 hours from now.")},()=>{n(0,s-=1)},t=>{n(2,r=t.target.value),"one-time"===r&&n(3,i=[])},m,p,t=>{n(4,c=t.target.value),n(5,u="part-day"===c),"part-day"!==c&&n(6,d="")},v,t=>{t.target===t.currentTarget&&l("close")},t=>{"Escape"===t.key&&l("close")},async()=>{const t={employee_id:"YOUR_EMPLOYEE_ID",date:a,type:r,days:i,halfDay:"full-day"===c?"Full Day":d,reason:f,status:"Pending"};try{const e=await fetch(`${vt.base_url}/create_arrangement`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(e.ok)alert("Application submitted successfully!"),l("close");else{const t=await e.json();alert(`Error: ${t.error}`)}}catch(t){alert(`Submission failed: ${t.message}`)}},()=>{n(8,h=!1)},()=>l("close"),function(){a=this.value,n(1,a)},t=>m(t),(t,e)=>p(e,t),()=>v("AM"),()=>v("PM"),function(){f=this.value,n(7,f)}]}class zt extends dt{constructor(t){super(),ut(this,t,St,Mt,a,{},null,[-1,-1])}}function jt(t,e,n){const l=t.slice();return l[7]=e[n],l}function Ft(t){let e,n=t[0],l=[];for(let e=0;e<n.length;e+=1)l[e]=It(jt(t,n,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=$()},m(t,n){for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,n);f(t,e,n)},p(t,s){if(9&s){let a;for(n=t[0],a=0;a<n.length;a+=1){const o=jt(t,n,a);l[a]?l[a].p(o,s):(l[a]=It(o),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=n.length}},d(t){m(l,t),t&&h(e)}}}function At(e){let n;return{c(){n=p("div"),n.innerHTML='<h3 class="svelte-gtl9ju">No Applications Available</h3> \n            <p class="svelte-gtl9ju">You have no approved applications available for withdrawal at this time.</p>',k(n,"class","empty-state svelte-gtl9ju")},m(t,e){f(t,n,e)},p:t,d(t){t&&h(n)}}}function Pt(t){let e,n;return{c(){e=p("div"),n=g(t[2]),k(e,"class","error svelte-gtl9ju")},m(t,l){f(t,e,l),d(e,n)},p(t,e){4&e&&x(n,t[2])},d(t){t&&h(e)}}}function Ht(e){let n;return{c(){n=p("div"),n.textContent="Loading applications...",k(n,"class","loading svelte-gtl9ju")},m(t,e){f(t,n,e)},p:t,d(t){t&&h(n)}}}function Ut(t){let e;return{c(){e=p("p"),e.innerHTML="<strong>Half Day:</strong> Yes",k(e,"class","svelte-gtl9ju")},m(t,n){f(t,e,n)},d(t){t&&h(e)}}}function Rt(t){let e,n,l,s,a=t[7].days+"";return{c(){e=p("p"),n=p("strong"),n.textContent="Days:",l=y(),s=g(a),k(e,"class","svelte-gtl9ju")},m(t,a){f(t,e,a),d(e,n),d(e,l),d(e,s)},p(t,e){1&e&&a!==(a=t[7].days+"")&&x(s,a)},d(t){t&&h(e)}}}function Nt(t){let e,n,l,s,a=t[7].reason+"";return{c(){e=p("p"),n=p("strong"),n.textContent="Reason:",l=y(),s=g(a),k(e,"class","svelte-gtl9ju")},m(t,a){f(t,e,a),d(e,n),d(e,l),d(e,s)},p(t,e){1&e&&a!==(a=t[7].reason+"")&&x(s,a)},d(t){t&&h(e)}}}function Lt(e){let n;return{c(){n=p("span"),n.textContent="Withdrawal request submitted",k(n,"class","withdrawn-message svelte-gtl9ju")},m(t,e){f(t,n,e)},p:t,d(t){t&&h(n)}}}function qt(t){let e,n,l;function s(){return t[4](t[7])}return{c(){e=p("button"),e.textContent="Request Withdrawal",k(e,"class","withdrawal-button svelte-gtl9ju")},m(t,a){f(t,e,a),n||(l=b(e,"click",s),n=!0)},p(e,n){t=e},d(t){t&&h(e),n=!1,l()}}}function It(t){let e,n,l,s,a,o,r,i,c,u,m,v,$,b,w,_,C,T,D,E,M,S,z,j,F=t[7].status+"",A=Ot(t[7].date)+"",P=(t[7].type||"N/A")+"",H=t[7].half_day&&Ut(),U=t[7].days&&Rt(t),R=t[7].reason&&Nt(t);function N(t,e){return"Approved"===t[7].status?qt:"Withdrawn"===t[7].status?Lt:void 0}let L=N(t),q=L&&L(t);return{c(){e=p("div"),n=p("div"),l=p("h3"),l.textContent="Application Details",s=y(),a=p("span"),o=g(F),i=y(),c=p("div"),u=p("p"),m=p("strong"),m.textContent="Date:",v=y(),$=g(A),b=y(),w=p("p"),_=p("strong"),_.textContent="Type:",C=y(),T=g(P),D=y(),H&&H.c(),E=y(),U&&U.c(),M=y(),R&&R.c(),S=y(),z=p("div"),q&&q.c(),j=y(),k(l,"class","svelte-gtl9ju"),k(a,"class",r="status "+t[7].status+" svelte-gtl9ju"),k(n,"class","card-header svelte-gtl9ju"),k(u,"class","svelte-gtl9ju"),k(w,"class","svelte-gtl9ju"),k(c,"class","card-body svelte-gtl9ju"),k(z,"class","card-footer svelte-gtl9ju"),k(e,"class","withdrawal-card svelte-gtl9ju")},m(t,r){f(t,e,r),d(e,n),d(n,l),d(n,s),d(n,a),d(a,o),d(e,i),d(e,c),d(c,u),d(u,m),d(u,v),d(u,$),d(c,b),d(c,w),d(w,_),d(w,C),d(w,T),d(c,D),H&&H.m(c,null),d(c,E),U&&U.m(c,null),d(c,M),R&&R.m(c,null),d(e,S),d(e,z),q&&q.m(z,null),d(e,j)},p(t,e){1&e&&F!==(F=t[7].status+"")&&x(o,F),1&e&&r!==(r="status "+t[7].status+" svelte-gtl9ju")&&k(a,"class",r),1&e&&A!==(A=Ot(t[7].date)+"")&&x($,A),1&e&&P!==(P=(t[7].type||"N/A")+"")&&x(T,P),t[7].half_day?H||(H=Ut(),H.c(),H.m(c,E)):H&&(H.d(1),H=null),t[7].days?U?U.p(t,e):(U=Rt(t),U.c(),U.m(c,M)):U&&(U.d(1),U=null),t[7].reason?R?R.p(t,e):(R=Nt(t),R.c(),R.m(c,null)):R&&(R.d(1),R=null),L===(L=N(t))&&q?q.p(t,e):(q&&q.d(1),q=L&&L(t),q&&(q.c(),q.m(z,null)))},d(t){t&&h(e),H&&H.d(),U&&U.d(),R&&R.d(),q&&q.d()}}}function Bt(e){let n,l,s;function a(t,e){return t[1]?Ht:t[2]?Pt:0===t[0].length?At:Ft}let o=a(e),r=o(e);return{c(){n=p("div"),l=p("h1"),l.textContent="Withdrawal Requests",s=y(),r.c(),k(l,"class","svelte-gtl9ju"),k(n,"class","container svelte-gtl9ju")},m(t,e){f(t,n,e),d(n,l),d(n,s),r.m(n,null)},p(t,[e]){o===(o=a(t))&&r?r.p(t,e):(r.d(1),r=o(t),r&&(r.c(),r.m(n,null)))},i:t,o:t,d(t){t&&h(n),r.d()}}}function Ot(t){if(!t)return"N/A";try{let e;return e="object"==typeof t&&t.seconds?new Date(1e3*t.seconds):new Date(t),isNaN(e.getTime())?"Invalid Date":e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(t){return console.error("Error formatting date:",t),"Invalid Date"}}function Wt(t,e,n){let l=[],s=!1,a=null;const o=localStorage.getItem("employeeId");async function r(){n(1,s=!0),n(2,a=null);try{const t=await fetch(`${vt.base_url}/get_user_applications?eid=${o}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json();console.log("Fetched data:",e),n(0,l=e.filter((t=>"Approved"===t.status)))}catch(t){n(2,a="Failed to load applications. Please try again later."),console.error("Error fetching applications:",t)}finally{n(1,s=!1)}}async function i(t){try{const e=await fetch(`${vt.base_url}/withdraw_application/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employee_id:o})});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to submit withdrawal request")}await e.json();alert("Withdrawal request submitted successfully"),await r()}catch(t){alert(t.message||"Error submitting withdrawal request. Please try again."),console.error("Error requesting withdrawal:",t)}}F(r);return[l,s,a,i,t=>i(t.id)]}class Gt extends dt{constructor(t){super(),ut(this,t,Wt,Bt,a,{})}}function Yt(t,e,n){const l=t.slice();return l[34]=e[n],l}function Vt(t,e,n){const l=t.slice();return l[37]=e[n],l}function Jt(t){let e,n,s,a,o,r,i,c,u,m,v,$,w,_,C,T,D,E,M,S,z,j,F,A,P,H,U,R,N,L,q,I,B,O,W,G,Y,V,J,K,Q,X,Z,tt,et,nt,lt,at,rt,it,ct,ut,dt,ft=t[2].length+"",ht=t[1].length+"",mt=[],pt=new Map,vt=t[13]&&Xt(t),gt="all"===t[14]?t[3]:"office"===t[14]?t[2]:t[1];const yt=t=>t[34].id;for(let e=0;e<gt.length;e+=1){let n=Yt(t,gt,e),l=yt(n);pt.set(l,mt[e]=ee(l,n))}return{c(){vt&&vt.c(),e=y(),n=p("div"),s=p("div"),a=p("div"),o=p("p"),o.textContent="Total Staff",r=y(),i=p("p"),c=g(t[0]),u=y(),m=p("div"),m.innerHTML='<svg viewBox="0 0 24 24"><path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>',v=y(),$=p("div"),w=p("div"),_=p("p"),_.textContent="In Office",C=y(),T=p("p"),D=g(ft),E=y(),M=p("p"),S=g(t[16]),z=g("% of total"),j=y(),F=p("div"),F.innerHTML='<svg viewBox="0 0 24 24"><path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>',A=y(),P=p("div"),H=p("div"),U=p("p"),U.textContent="Remote",R=y(),N=p("p"),L=g(ht),q=y(),I=p("p"),B=g(t[15]),O=g("% of total"),W=y(),G=p("div"),G.innerHTML='<svg viewBox="0 0 24 24"><path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>',Y=y(),V=p("div"),J=p("button"),K=g("All Staff"),X=y(),Z=p("button"),tt=g("In Office"),nt=y(),lt=p("button"),at=g("Remote"),it=y(),ct=p("div");for(let t=0;t<mt.length;t+=1)mt[t].c();k(o,"class","stat-label"),k(i,"class","stat-value"),k(m,"class","stat-icon"),k(s,"class","stat-card"),k(_,"class","stat-label"),k(T,"class","stat-value office"),k(M,"class","stat-percentage"),k(F,"class","stat-icon office"),k($,"class","stat-card"),k(U,"class","stat-label"),k(N,"class","stat-value remote"),k(I,"class","stat-percentage"),k(G,"class","stat-icon remote"),k(P,"class","stat-card"),k(n,"class","stats"),k(J,"class",Q="tab "+("all"===t[14]?"active":"")),k(Z,"class",et="tab "+("office"===t[14]?"active":"")),k(lt,"class",rt="tab "+("remote"===t[14]?"active":"")),k(V,"class","tabs"),k(ct,"class","employee-grid")},m(l,h){vt&&vt.m(l,h),f(l,e,h),f(l,n,h),d(n,s),d(s,a),d(a,o),d(a,r),d(a,i),d(i,c),d(s,u),d(s,m),d(n,v),d(n,$),d($,w),d(w,_),d(w,C),d(w,T),d(T,D),d(w,E),d(w,M),d(M,S),d(M,z),d($,j),d($,F),d(n,A),d(n,P),d(P,H),d(H,U),d(H,R),d(H,N),d(N,L),d(H,q),d(H,I),d(I,B),d(I,O),d(P,W),d(P,G),f(l,Y,h),f(l,V,h),d(V,J),d(J,K),d(V,X),d(V,Z),d(Z,tt),d(V,nt),d(V,lt),d(lt,at),f(l,it,h),f(l,ct,h);for(let t=0;t<mt.length;t+=1)mt[t]&&mt[t].m(ct,null);ut||(dt=[b(J,"click",t[26]),b(Z,"click",t[27]),b(lt,"click",t[28])],ut=!0)},p(t,n){t[13]?vt?vt.p(t,n):(vt=Xt(t),vt.c(),vt.m(e.parentNode,e)):vt&&(vt.d(1),vt=null),1&n[0]&&x(c,t[0]),4&n[0]&&ft!==(ft=t[2].length+"")&&x(D,ft),65536&n[0]&&x(S,t[16]),2&n[0]&&ht!==(ht=t[1].length+"")&&x(L,ht),32768&n[0]&&x(B,t[15]),16384&n[0]&&Q!==(Q="tab "+("all"===t[14]?"active":""))&&k(J,"class",Q),16384&n[0]&&et!==(et="tab "+("office"===t[14]?"active":""))&&k(Z,"class",et),16384&n[0]&&rt!==(rt="tab "+("remote"===t[14]?"active":""))&&k(lt,"class",rt),278542&n[0]&&(gt="all"===t[14]?t[3]:"office"===t[14]?t[2]:t[1],mt=ot(mt,n,yt,1,t,gt,pt,ct,st,ee,null,Yt))},d(t){vt&&vt.d(t),t&&h(e),t&&h(n),t&&h(Y),t&&h(V),t&&h(it),t&&h(ct);for(let t=0;t<mt.length;t+=1)mt[t].d();ut=!1,l(dt)}}}function Kt(t){let e,n,l,s,a,o;return{c(){e=p("div"),n=v("svg"),l=v("path"),s=y(),a=p("p"),o=g(t[12]),k(l,"stroke-linecap","round"),k(l,"stroke-linejoin","round"),k(l,"stroke-width","2"),k(l,"d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),k(n,"class","icon"),k(n,"viewBox","0 0 24 24"),k(e,"class","error")},m(t,r){f(t,e,r),d(e,n),d(n,l),d(e,s),d(e,a),d(a,o)},p(t,e){4096&e[0]&&x(o,t[12])},d(t){t&&h(e)}}}function Qt(e){let n;return{c(){n=p("div"),n.innerHTML='<div class="spinner"></div> \n                <p>Loading data...</p>',k(n,"class","loading")},m(t,e){f(t,n,e)},p:t,d(t){t&&h(n)}}}function Xt(t){let e,n,s,a,o,r,i,c,u,g,$,w,x,C,D,E,M,S,z,j,F,A,P,H,U,R,N,L,q,I,B,O,W,G,V=t[4],J=[];for(let e=0;e<V.length;e+=1)J[e]=Zt(Vt(t,V,e));let K="custom"===t[8]&&te(t);return{c(){e=p("div"),n=p("div"),s=p("div"),a=p("label"),a.textContent="Search Staff",o=y(),r=p("div"),i=p("input"),c=y(),u=v("svg"),g=v("path"),$=y(),w=p("div"),x=p("label"),x.textContent="Department",C=y(),D=p("select"),E=p("option"),E.textContent="All Departments";for(let t=0;t<J.length;t+=1)J[t].c();M=y(),S=p("div"),z=p("label"),z.textContent="Status",j=y(),F=p("select"),A=p("option"),A.textContent="All Statuses",P=p("option"),P.textContent="In Office",H=p("option"),H.textContent="Remote",U=y(),R=p("div"),N=p("label"),N.textContent="Date Range",L=y(),q=p("select"),I=p("option"),I.textContent="Today",B=p("option"),B.textContent="Custom Range",O=y(),K&&K.c(),k(a,"for","search-staff"),k(i,"id","search-staff"),k(i,"type","text"),k(i,"placeholder","Name or department..."),k(g,"stroke-linecap","round"),k(g,"stroke-linejoin","round"),k(g,"stroke-width","2"),k(g,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),k(u,"class","icon"),k(u,"viewBox","0 0 24 24"),k(r,"class","search-input"),k(s,"class","filter-item"),k(x,"for","department-filter"),E.__value="All",E.value=E.__value,k(D,"id","department-filter"),void 0===t[6]&&Y((()=>t[21].call(D))),k(w,"class","filter-item"),k(z,"for","status-filter"),A.__value="All",A.value=A.__value,P.__value="office",P.value=P.__value,H.__value="remote",H.value=H.__value,k(F,"id","status-filter"),void 0===t[7]&&Y((()=>t[22].call(F))),k(S,"class","filter-item"),k(N,"for","date-range-filter"),I.__value="today",I.value=I.__value,B.__value="custom",B.value=B.__value,k(q,"id","date-range-filter"),void 0===t[8]&&Y((()=>t[23].call(q))),k(R,"class","filter-item"),k(n,"class","filter-grid"),k(e,"class","filters")},m(l,h){f(l,e,h),d(e,n),d(n,s),d(s,a),d(s,o),d(s,r),d(r,i),_(i,t[5]),d(r,c),d(r,u),d(u,g),d(n,$),d(n,w),d(w,x),d(w,C),d(w,D),d(D,E);for(let t=0;t<J.length;t+=1)J[t]&&J[t].m(D,null);T(D,t[6],!0),d(n,M),d(n,S),d(S,z),d(S,j),d(S,F),d(F,A),d(F,P),d(F,H),T(F,t[7],!0),d(n,U),d(n,R),d(R,N),d(R,L),d(R,q),d(q,I),d(q,B),T(q,t[8],!0),d(R,O),K&&K.m(R,null),W||(G=[b(i,"input",t[20]),b(D,"change",t[21]),b(F,"change",t[22]),b(q,"change",t[23])],W=!0)},p(t,e){if(32&e[0]&&i.value!==t[5]&&_(i,t[5]),16&e[0]){let n;for(V=t[4],n=0;n<V.length;n+=1){const l=Vt(t,V,n);J[n]?J[n].p(l,e):(J[n]=Zt(l),J[n].c(),J[n].m(D,null))}for(;n<J.length;n+=1)J[n].d(1);J.length=V.length}80&e[0]&&T(D,t[6]),128&e[0]&&T(F,t[7]),256&e[0]&&T(q,t[8]),"custom"===t[8]?K?K.p(t,e):(K=te(t),K.c(),K.m(R,null)):K&&(K.d(1),K=null)},d(t){t&&h(e),m(J,t),K&&K.d(),W=!1,l(G)}}}function Zt(t){let e,n,l,s=t[37]+"";return{c(){e=p("option"),n=g(s),e.__value=l=t[37],e.value=e.__value},m(t,l){f(t,e,l),d(e,n)},p(t,a){16&a[0]&&s!==(s=t[37]+"")&&x(n,s),16&a[0]&&l!==(l=t[37])&&(e.__value=l,e.value=e.__value)},d(t){t&&h(e)}}}function te(t){let e,n,s,a,o,r;return{c(){e=p("div"),n=p("input"),s=y(),a=p("input"),k(n,"type","date"),k(a,"type","date"),k(e,"class","date-range")},m(l,i){f(l,e,i),d(e,n),_(n,t[9]),d(e,s),d(e,a),_(a,t[10]),o||(r=[b(n,"input",t[24]),b(a,"input",t[25])],o=!0)},p(t,e){512&e[0]&&_(n,t[9]),1024&e[0]&&_(a,t[10])},d(t){t&&h(e),o=!1,l(r)}}}function ee(t,e){let n,l,s,a,o,r,i,c,u,m,v,$,w,_,C,T,D,E,M,S,z,j,F,A=e[34].name+"",P=e[34].department+"",H=e[34].team+"",U=e[34].email+"",R=e[34].status+"";function N(){return e[29](e[34])}return{key:t,first:null,c(){n=p("div"),l=p("div"),s=p("div"),a=p("p"),o=g(A),r=y(),i=p("p"),c=g(P),u=g(" • "),m=g(H),v=y(),$=p("p"),w=g(U),_=y(),C=p("div"),T=p("span"),D=g(R),M=y(),S=p("button"),S.textContent="Toggle Status",z=y(),k(a,"class","employee-name"),k(i,"class","employee-dept"),k($,"class","employee-email"),k(T,"class",E="status-badge "+e[34].status+" svelte-ef8ckv"),k(S,"class","status-toggle svelte-ef8ckv"),k(C,"class","status-wrapper svelte-ef8ckv"),k(s,"class","employee-details"),k(l,"class","employee-info"),k(n,"class","employee-card"),this.first=n},m(t,e){f(t,n,e),d(n,l),d(l,s),d(s,a),d(a,o),d(s,r),d(s,i),d(i,c),d(i,u),d(i,m),d(s,v),d(s,$),d($,w),d(s,_),d(s,C),d(C,T),d(T,D),d(C,M),d(C,S),d(n,z),j||(F=b(S,"click",N),j=!0)},p(t,n){e=t,16398&n[0]&&A!==(A=e[34].name+"")&&x(o,A),16398&n[0]&&P!==(P=e[34].department+"")&&x(c,P),16398&n[0]&&H!==(H=e[34].team+"")&&x(m,H),16398&n[0]&&U!==(U=e[34].email+"")&&x(w,U),16398&n[0]&&R!==(R=e[34].status+"")&&x(D,R),16398&n[0]&&E!==(E="status-badge "+e[34].status+" svelte-ef8ckv")&&k(T,"class",E)},d(t){t&&h(n),j=!1,F()}}}function ne(e){let n,l,s,a,o,r,i,c,u,m,$,w,_,C=e[13]?"Hide Filters":"Show Filters";function T(t,e){return t[11]?Qt:t[12]?Kt:Jt}let D=T(e),E=D(e);return{c(){n=p("main"),l=p("div"),s=p("div"),a=p("div"),a.innerHTML="<h1>Staff Schedule Dashboard</h1> \n                <p>Manage and track employee work locations</p>",o=y(),r=p("button"),i=v("svg"),c=v("path"),u=y(),m=g(C),$=y(),E.c(),k(a,"class","header-text"),k(c,"stroke-linecap","round"),k(c,"stroke-linejoin","round"),k(c,"stroke-width","2"),k(c,"d","M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"),k(i,"class","icon"),k(i,"viewBox","0 0 24 24"),k(r,"class","filter-toggle"),k(s,"class","header"),k(l,"class","container"),k(n,"class","dashboard")},m(t,h){f(t,n,h),d(n,l),d(l,s),d(s,a),d(s,o),d(s,r),d(r,i),d(i,c),d(r,u),d(r,m),d(l,$),E.m(l,null),w||(_=b(r,"click",e[17]),w=!0)},p(t,e){8192&e[0]&&C!==(C=t[13]?"Hide Filters":"Show Filters")&&x(m,C),D===(D=T(t))&&E?E.p(t,e):(E.d(1),E=D(t),E&&(E.c(),E.m(l,null)))},i:t,o:t,d(t){t&&h(n),E.d(),w=!1,_()}}}function le(t,e,n){let l,s,a,o,r,i,c=[],u=[],d="",f="All",h="All",m="today",p="",v="",g=!0,y=null,$=!1,b=!0,w="all";const k=vt.base_url||"http://localhost:5000";async function x(){if(!$)try{$=!0,n(11,g=!0);const[t,e]=await Promise.all([fetch(`${k}/departments`),fetch(`${k}/employees`)]);if(!t.ok||!e.ok)throw new Error("Failed to fetch initial data");const l=await t.json(),s=await e.json();n(4,c=l.departments),n(19,u=s.employees),n(12,y=null)}catch(t){console.error("Error fetching initial data:",t),n(12,y=t.message||"Failed to load data"),n(4,c=[]),n(19,u=[])}finally{n(11,g=!1),$=!1}}async function _(t,e){try{if(!(await fetch(`${k}/employee/${t}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e})})).ok)throw new Error("Failed to update status");await x()}catch(t){console.error("Error updating status:",t),n(12,y=t.message)}}F((async()=>{await x()})),P((()=>{}));return t.$$.update=()=>{var e;524288&t.$$.dirty[0]&&n(3,l=u.length?(e={department:f,status:h,search:d,dateRange:m,startDate:p,endDate:v},u.filter((t=>{if(e.department&&"All"!==e.department&&t.department!==e.department)return!1;if(e.status&&"All"!==e.status&&t.status!==e.status.toLowerCase())return!1;if(e.search){const n=e.search.toLowerCase();return[t.id,t.name,t.department,t.email,t.country,t.position].some((t=>String(t).toLowerCase().includes(n)))}return!0}))):[]),8&t.$$.dirty[0]&&n(2,s=l.filter((t=>"office"===t.status))),8&t.$$.dirty[0]&&n(1,a=l.filter((t=>"remote"===t.status))),8&t.$$.dirty[0]&&n(0,o=l.length),5&t.$$.dirty[0]&&n(16,r=o?(s.length/o*100).toFixed(1):0),3&t.$$.dirty[0]&&n(15,i=o?(a.length/o*100).toFixed(1):0)},[o,a,s,l,c,d,f,h,m,p,v,g,y,b,w,i,r,function(){n(13,b=!b)},_,u,function(){d=this.value,n(5,d)},function(){f=D(this),n(6,f),n(4,c)},function(){h=D(this),n(7,h)},function(){m=D(this),n(8,m)},function(){p=this.value,n(9,p)},function(){v=this.value,n(10,v)},()=>n(14,w="all"),()=>n(14,w="office"),()=>n(14,w="remote"),t=>_(t.id,"office"===t.status?"remote":"office")]}class se extends dt{constructor(t){super(),ut(this,t,le,ne,a,{},null,[-1,-1])}}const ae=mt(localStorage.getItem("jwt")||""),oe=mt({});function re(t){if(!t)return{};const e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(e).split("").map((t=>`%${("00"+t.charCodeAt(0).toString(16)).slice(-2)}`)).join(""));return JSON.parse(n)}function ie(e){let n,s,a,o,r,i,c,u,m,v,$,w,x,C,T,D,E,M,S;return{c(){n=p("div"),s=p("div"),a=p("div"),o=p("form"),r=p("h1"),r.textContent="Log in",i=y(),c=p("label"),u=g("Email:\r\n          "),m=p("input"),v=y(),$=p("label"),w=g("Password:\r\n          "),x=p("input"),C=y(),T=p("button"),T.textContent="Log in",D=y(),E=p("div"),k(m,"type","email"),k(m,"placeholder","Input your email"),m.required=!0,k(m,"class","svelte-h26j68"),k(c,"class","text-field svelte-h26j68"),k(x,"type","password"),k(x,"placeholder","Input your password"),x.required=!0,k(x,"class","svelte-h26j68"),k($,"class","text-field svelte-h26j68"),k(T,"type","submit"),k(T,"class","svelte-h26j68"),k(o,"class","svelte-h26j68"),k(E,"class","form-splash svelte-h26j68"),k(a,"class","form-container svelte-h26j68"),k(s,"class","page-container svelte-h26j68"),k(n,"class","hide-overflow svelte-h26j68")},m(t,l){f(t,n,l),d(n,s),d(s,a),d(a,o),d(o,r),d(o,i),d(o,c),d(c,u),d(c,m),_(m,e[0]),d(o,v),d(o,$),d($,w),d($,x),_(x,e[1]),d(o,C),d(o,T),d(a,D),d(a,E),M||(S=[b(m,"input",e[3]),b(x,"input",e[4]),b(o,"submit",e[2])],M=!0)},p(t,[e]){1&e&&m.value!==t[0]&&_(m,t[0]),2&e&&x.value!==t[1]&&_(x,t[1])},i:t,o:t,d(t){t&&h(n),M=!1,l(S)}}}function ce(t,e,n){H();let l="",s="";return[l,s,async t=>{t.preventDefault();const e=await(async()=>{try{const t=await fetch(`${vt.base_url}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:s})});return await t.json()}catch(t){return console.error("Error logging in:",t),null}})();e&&(console.log(e),ae.set(e))},function(){l=this.value,n(0,l)},function(){s=this.value,n(1,s)}]}oe.set(re(localStorage.getItem("jwt"))||{}),ae.subscribe((t=>{t?(localStorage.setItem("jwt",t),oe.set(re(t)),console.log("Token added"),console.log(oe)):(localStorage.removeItem("jwt"),oe.set({}),console.log("Token removed"))}));class ue extends dt{constructor(t){super(),ut(this,t,ce,ie,a,{})}}function de(t,e,n){const l=t.slice();return l[39]=e[n],l}function fe(e){let n,l,s,a,o,r,i,c,u,m,$,w,_,C,T,D,E,M,S,z,j,F,A,P=(e[17]?.name||"Manager")+"",H=e[13]?"Hide Filters":"Show Filters";function U(t,e){return t[10]?ve:t[11]?pe:me}let R=U(e),N=R(e);return{c(){n=p("main"),l=p("div"),s=p("div"),a=p("div"),o=p("h1"),r=g(e[12]),i=g(" Department Dashboard"),c=y(),u=p("p"),m=g("Welcome, "),$=g(P),w=y(),_=p("p"),_.textContent="Manage and track employee work locations",C=y(),T=p("div"),D=p("button"),E=v("svg"),M=v("path"),S=y(),z=g(H),j=y(),N.c(),k(o,"class","svelte-fdm2zy"),k(u,"class","svelte-fdm2zy"),k(_,"class","subtitle svelte-fdm2zy"),k(a,"class","header-text svelte-fdm2zy"),k(M,"stroke-linecap","round"),k(M,"stroke-linejoin","round"),k(M,"stroke-width","2"),k(M,"d","M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"),k(E,"class","icon svelte-fdm2zy"),k(E,"viewBox","0 0 24 24"),k(D,"class","filter-toggle svelte-fdm2zy"),k(T,"class","header-actions svelte-fdm2zy"),k(s,"class","header svelte-fdm2zy"),k(l,"class","container svelte-fdm2zy"),k(n,"class","dashboard svelte-fdm2zy")},m(t,h){f(t,n,h),d(n,l),d(l,s),d(s,a),d(a,o),d(o,r),d(o,i),d(a,c),d(a,u),d(u,m),d(u,$),d(a,w),d(a,_),d(s,C),d(s,T),d(T,D),d(D,E),d(E,M),d(D,S),d(D,z),d(l,j),N.m(l,null),F||(A=b(D,"click",e[19]),F=!0)},p(t,e){4096&e[0]&&x(r,t[12]),131072&e[0]&&P!==(P=(t[17]?.name||"Manager")+"")&&x($,P),8192&e[0]&&H!==(H=t[13]?"Hide Filters":"Show Filters")&&x(z,H),R===(R=U(t))&&N?N.p(t,e):(N.d(1),N=R(t),N&&(N.c(),N.m(l,null)))},i:t,o:t,d(t){t&&h(n),N.d(),F=!1,A()}}}function he(e){let n,l;return n=new ue({}),{c(){rt(n.$$.fragment)},m(t,e){it(n,t,e),l=!0},p:t,i(t){l||(nt(n.$$.fragment,t),l=!0)},o(t){lt(n.$$.fragment,t),l=!1},d(t){ct(n,t)}}}function me(t){let e,n,s,a,o,r,i,c,u,m,v,$,w,_,C,T,D,E,M,S,z,j,F,A,P,H,U,R,N,L,q,I,B,O,W,G,Y,V,J,K,Q,X,Z,tt,et,nt,lt,at,rt,it,ct,ut,dt,ft=t[6].length+"",ht=t[5].length+"",mt=[],pt=new Map,vt=t[13]&&ge(t),gt="all"===t[14]?t[7]:"office"===t[14]?t[6]:t[5];const yt=t=>t[39].id;for(let e=0;e<gt.length;e+=1){let n=de(t,gt,e),l=yt(n);pt.set(l,mt[e]=$e(l,n))}return{c(){vt&&vt.c(),e=y(),n=p("div"),s=p("div"),a=p("div"),o=p("p"),o.textContent="Total Staff",r=y(),i=p("p"),c=g(t[4]),u=y(),m=p("div"),m.innerHTML='<svg viewBox="0 0 24 24"><path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>',v=y(),$=p("div"),w=p("div"),_=p("p"),_.textContent="In Office",C=y(),T=p("p"),D=g(ft),E=y(),M=p("p"),S=g(t[16]),z=g("% of total"),j=y(),F=p("div"),F.innerHTML='<svg viewBox="0 0 24 24"><path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>',A=y(),P=p("div"),H=p("div"),U=p("p"),U.textContent="Remote",R=y(),N=p("p"),L=g(ht),q=y(),I=p("p"),B=g(t[15]),O=g("% of total"),W=y(),G=p("div"),G.innerHTML='<svg viewBox="0 0 24 24"><path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>',Y=y(),V=p("div"),J=p("button"),K=g("All Staff"),X=y(),Z=p("button"),tt=g("In Office"),nt=y(),lt=p("button"),at=g("Remote"),it=y(),ct=p("div");for(let t=0;t<mt.length;t+=1)mt[t].c();k(o,"class","stat-label"),k(i,"class","stat-value"),k(m,"class","stat-icon"),k(s,"class","stat-card"),k(_,"class","stat-label"),k(T,"class","stat-value office"),k(M,"class","stat-percentage"),k(F,"class","stat-icon office"),k($,"class","stat-card"),k(U,"class","stat-label"),k(N,"class","stat-value remote"),k(I,"class","stat-percentage"),k(G,"class","stat-icon remote"),k(P,"class","stat-card"),k(n,"class","stats svelte-fdm2zy"),k(J,"class",Q="tab "+("all"===t[14]?"active":"")+" svelte-fdm2zy"),k(Z,"class",et="tab "+("office"===t[14]?"active":"")+" svelte-fdm2zy"),k(lt,"class",rt="tab "+("remote"===t[14]?"active":"")+" svelte-fdm2zy"),k(V,"class","tabs svelte-fdm2zy"),k(ct,"class","employee-grid svelte-fdm2zy")},m(l,h){vt&&vt.m(l,h),f(l,e,h),f(l,n,h),d(n,s),d(s,a),d(a,o),d(a,r),d(a,i),d(i,c),d(s,u),d(s,m),d(n,v),d(n,$),d($,w),d(w,_),d(w,C),d(w,T),d(T,D),d(w,E),d(w,M),d(M,S),d(M,z),d($,j),d($,F),d(n,A),d(n,P),d(P,H),d(H,U),d(H,R),d(H,N),d(N,L),d(H,q),d(H,I),d(I,B),d(I,O),d(P,W),d(P,G),f(l,Y,h),f(l,V,h),d(V,J),d(J,K),d(V,X),d(V,Z),d(Z,tt),d(V,nt),d(V,lt),d(lt,at),f(l,it,h),f(l,ct,h);for(let t=0;t<mt.length;t+=1)mt[t]&&mt[t].m(ct,null);ut||(dt=[b(J,"click",t[28]),b(Z,"click",t[29]),b(lt,"click",t[30])],ut=!0)},p(t,n){t[13]?vt?vt.p(t,n):(vt=ge(t),vt.c(),vt.m(e.parentNode,e)):vt&&(vt.d(1),vt=null),16&n[0]&&x(c,t[4]),64&n[0]&&ft!==(ft=t[6].length+"")&&x(D,ft),65536&n[0]&&x(S,t[16]),32&n[0]&&ht!==(ht=t[5].length+"")&&x(L,ht),32768&n[0]&&x(B,t[15]),16384&n[0]&&Q!==(Q="tab "+("all"===t[14]?"active":"")+" svelte-fdm2zy")&&k(J,"class",Q),16384&n[0]&&et!==(et="tab "+("office"===t[14]?"active":"")+" svelte-fdm2zy")&&k(Z,"class",et),16384&n[0]&&rt!==(rt="tab "+("remote"===t[14]?"active":"")+" svelte-fdm2zy")&&k(lt,"class",rt),278752&n[0]&&(gt="all"===t[14]?t[7]:"office"===t[14]?t[6]:t[5],mt=ot(mt,n,yt,1,t,gt,pt,ct,st,$e,null,de))},d(t){vt&&vt.d(t),t&&h(e),t&&h(n),t&&h(Y),t&&h(V),t&&h(it),t&&h(ct);for(let t=0;t<mt.length;t+=1)mt[t].d();ut=!1,l(dt)}}}function pe(t){let e,n,l,s,a,o;return{c(){e=p("div"),n=v("svg"),l=v("path"),s=y(),a=p("p"),o=g(t[11]),k(l,"stroke-linecap","round"),k(l,"stroke-linejoin","round"),k(l,"stroke-width","2"),k(l,"d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),k(n,"class","icon svelte-fdm2zy"),k(n,"viewBox","0 0 24 24"),k(e,"class","error svelte-fdm2zy")},m(t,r){f(t,e,r),d(e,n),d(n,l),d(e,s),d(e,a),d(a,o)},p(t,e){2048&e[0]&&x(o,t[11])},d(t){t&&h(e)}}}function ve(e){let n;return{c(){n=p("div"),n.innerHTML='<div class="spinner svelte-fdm2zy"></div> \n                    <p>Loading data...</p>',k(n,"class","loading svelte-fdm2zy")},m(t,e){f(t,n,e)},p:t,d(t){t&&h(n)}}}function ge(t){let e,n,s,a,o,r,i,c,u,m,g,$,w,x,C,D,E,M,S,z,j,F,A,P,H,U,R,N,L="custom"===t[1]&&ye(t);return{c(){e=p("div"),n=p("div"),s=p("div"),a=p("label"),a.textContent="Search Staff",o=y(),r=p("div"),i=p("input"),c=y(),u=v("svg"),m=v("path"),g=y(),$=p("div"),w=p("label"),w.textContent="Status",x=y(),C=p("select"),D=p("option"),D.textContent="All Statuses",E=p("option"),E.textContent="In Office",M=p("option"),M.textContent="Remote",S=y(),z=p("div"),j=p("label"),j.textContent="Date Range",F=y(),A=p("select"),P=p("option"),P.textContent="Today",H=p("option"),H.textContent="Custom Range",U=y(),L&&L.c(),k(a,"for","search-staff"),k(a,"class","svelte-fdm2zy"),k(i,"id","search-staff"),k(i,"type","text"),k(i,"placeholder","Search by name, email..."),k(i,"class","svelte-fdm2zy"),k(m,"stroke-linecap","round"),k(m,"stroke-linejoin","round"),k(m,"stroke-width","2"),k(m,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),k(u,"class","icon svelte-fdm2zy"),k(u,"viewBox","0 0 24 24"),k(r,"class","search-input svelte-fdm2zy"),k(s,"class","filter-item svelte-fdm2zy"),k(w,"for","status-filter"),k(w,"class","svelte-fdm2zy"),D.__value="All",D.value=D.__value,E.__value="office",E.value=E.__value,M.__value="remote",M.value=M.__value,k(C,"id","status-filter"),k(C,"class","svelte-fdm2zy"),void 0===t[0]&&Y((()=>t[24].call(C))),k($,"class","filter-item svelte-fdm2zy"),k(j,"for","date-range-filter"),k(j,"class","svelte-fdm2zy"),P.__value="today",P.value=P.__value,H.__value="custom",H.value=H.__value,k(A,"id","date-range-filter"),k(A,"class","svelte-fdm2zy"),void 0===t[1]&&Y((()=>t[25].call(A))),k(z,"class","filter-item svelte-fdm2zy"),k(n,"class","filter-grid svelte-fdm2zy"),k(e,"class","filters svelte-fdm2zy")},m(l,h){f(l,e,h),d(e,n),d(n,s),d(s,a),d(s,o),d(s,r),d(r,i),_(i,t[2]),d(r,c),d(r,u),d(u,m),d(n,g),d(n,$),d($,w),d($,x),d($,C),d(C,D),d(C,E),d(C,M),T(C,t[0],!0),d(n,S),d(n,z),d(z,j),d(z,F),d(z,A),d(A,P),d(A,H),T(A,t[1],!0),d(z,U),L&&L.m(z,null),R||(N=[b(i,"input",t[23]),b(C,"change",t[24]),b(A,"change",t[25])],R=!0)},p(t,e){4&e[0]&&i.value!==t[2]&&_(i,t[2]),1&e[0]&&T(C,t[0]),2&e[0]&&T(A,t[1]),"custom"===t[1]?L?L.p(t,e):(L=ye(t),L.c(),L.m(z,null)):L&&(L.d(1),L=null)},d(t){t&&h(e),L&&L.d(),R=!1,l(N)}}}function ye(t){let e,n,s,a,o,r;return{c(){e=p("div"),n=p("input"),s=y(),a=p("input"),k(n,"type","date"),k(n,"class","svelte-fdm2zy"),k(a,"type","date"),k(a,"class","svelte-fdm2zy"),k(e,"class","date-range svelte-fdm2zy")},m(l,i){f(l,e,i),d(e,n),_(n,t[8]),d(e,s),d(e,a),_(a,t[9]),o||(r=[b(n,"input",t[26]),b(a,"input",t[27])],o=!0)},p(t,e){256&e[0]&&_(n,t[8]),512&e[0]&&_(a,t[9])},d(t){t&&h(e),o=!1,l(r)}}}function $e(t,e){let n,s,a,o,r,i,c,u,m,v,$,w,_,C,T,D,E,M,S,z,j,F,A,P,H,U,R,N,L=e[39].name+"",q=e[39].team+"",I=e[39].email+"",B=(e[39].status||"office")+"";function O(){return e[31](e[39])}function W(){return e[32](e[39])}return{key:t,first:null,c(){n=p("div"),s=p("div"),a=p("div"),o=p("p"),r=g(L),i=y(),c=p("p"),u=g(q),m=y(),v=p("p"),$=g(I),w=y(),_=p("div"),C=p("span"),T=g(B),E=y(),M=p("div"),S=p("button"),z=g("Office"),F=y(),A=p("button"),P=g("Remote"),U=y(),k(o,"class","employee-name svelte-fdm2zy"),k(c,"class","employee-dept svelte-fdm2zy"),k(v,"class","employee-email svelte-fdm2zy"),k(C,"class",D="status-badge "+(e[39].status||"office")+" svelte-fdm2zy"),k(S,"class",j="status-button "+("office"===e[39].status?"active":"")+" svelte-fdm2zy"),k(A,"class",H="status-button "+("remote"===e[39].status?"active":"")+" svelte-fdm2zy"),k(M,"class","status-actions svelte-fdm2zy"),k(_,"class","status-section svelte-fdm2zy"),k(a,"class","employee-details svelte-fdm2zy"),k(s,"class","employee-info svelte-fdm2zy"),k(n,"class","employee-card svelte-fdm2zy"),this.first=n},m(t,e){f(t,n,e),d(n,s),d(s,a),d(a,o),d(o,r),d(a,i),d(a,c),d(c,u),d(a,m),d(a,v),d(v,$),d(a,w),d(a,_),d(_,C),d(C,T),d(_,E),d(_,M),d(M,S),d(S,z),d(M,F),d(M,A),d(A,P),d(n,U),R||(N=[b(S,"click",O),b(A,"click",W)],R=!0)},p(t,n){e=t,16608&n[0]&&L!==(L=e[39].name+"")&&x(r,L),16608&n[0]&&q!==(q=e[39].team+"")&&x(u,q),16608&n[0]&&I!==(I=e[39].email+"")&&x($,I),16608&n[0]&&B!==(B=(e[39].status||"office")+"")&&x(T,B),16608&n[0]&&D!==(D="status-badge "+(e[39].status||"office")+" svelte-fdm2zy")&&k(C,"class",D),16608&n[0]&&j!==(j="status-button "+("office"===e[39].status?"active":"")+" svelte-fdm2zy")&&k(S,"class",j),16608&n[0]&&H!==(H="status-button "+("remote"===e[39].status?"active":"")+" svelte-fdm2zy")&&k(A,"class",H)},d(t){t&&h(n),R=!1,l(N)}}}function be(t){let e,n,l,s;const a=[he,fe],o=[];function r(t,e){return t[3]?1:0}return e=r(t),n=o[e]=a[e](t),{c(){n.c(),l=$()},m(t,n){o[e].m(t,n),f(t,l,n),s=!0},p(t,s){let i=e;e=r(t),e===i?o[e].p(t,s):(tt(),lt(o[i],1,1,(()=>{o[i]=null})),et(),n=o[e],n?n.p(t,s):(n=o[e]=a[e](t),n.c()),nt(n,1),n.m(l.parentNode,l))},i(t){s||(nt(n),s=!0)},o(t){lt(n),s=!1},d(t){o[e].d(t),t&&h(l)}}}function we(t,e,n){let l,s,a,o,r,c,u,d,f,h;i(t,ae,(t=>n(21,f=t))),i(t,oe,(t=>n(22,h=t)));let m="All",p="today",v="",g="",y=[],$=!0,b=null,w=!1,k="",x=!0,_="all",C="";const T=vt.base_url||"http://localhost:5000";function E(){return{status:m,search:C,dateRange:p,startDate:v,endDate:g}}async function M(t={}){if(!w&&l)try{w=!0,n(10,$=!0);const e=new URLSearchParams;t.status&&"All"!==t.status&&e.append("status",t.status.toLowerCase()),t.search&&e.append("search",t.search);const l=await fetch(`${T}/employees?${e.toString()}`,{headers:{Authorization:`Bearer ${f}`}});if(!l.ok){const t=await l.json();throw new Error(t.error||"Failed to fetch employees")}const s=await l.json();n(20,y=s.employees),y.length>0&&n(12,k=y[0].department),n(11,b=null)}catch(t){console.error("Error fetching employees:",t),n(11,b=t.message||"Failed to load employee data"),n(20,y=[])}finally{n(10,$=!1),w=!1}}async function S(t,e){if(l)try{const n=await fetch(`${T}/employee/${t}/status`,{method:"PUT",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({status:e})});if(!n.ok){const t=await n.json();throw new Error(t.error||"Failed to update status")}await M(E())}catch(t){console.error("Error updating status:",t),n(11,b=t.message)}}let z;function j(){clearTimeout(z),z=setTimeout((()=>{!w&&l&&M(E())}),500)}F((async()=>{if(l)try{await M(E())}catch(t){console.error("Error in initialization:",t),n(11,b=t.message)}})),P((()=>{clearTimeout(z)}));return t.$$.update=()=>{2097152&t.$$.dirty[0]&&n(3,l=!!f),4194304&t.$$.dirty[0]&&n(17,s=h),1048576&t.$$.dirty[0]&&n(7,a=y),128&t.$$.dirty[0]&&n(6,o=a.filter((t=>"office"===t.status))),128&t.$$.dirty[0]&&n(5,r=a.filter((t=>"remote"===t.status))),128&t.$$.dirty[0]&&n(4,c=a.length),80&t.$$.dirty[0]&&n(16,u=c?(o.length/c*100).toFixed(1):0),48&t.$$.dirty[0]&&n(15,d=c?(r.length/c*100).toFixed(1):0),4&t.$$.dirty[0]&&void 0!==C&&j(),1&t.$$.dirty[0]&&void 0!==m&&j(),2&t.$$.dirty[0]&&void 0!==p&&j(),8&t.$$.dirty[0]&&l&&M(E())},[m,p,C,l,c,r,o,a,v,g,$,b,k,x,_,d,u,s,S,function(){n(13,x=!x)},y,f,h,function(){C=this.value,n(2,C)},function(){m=D(this),n(0,m)},function(){p=D(this),n(1,p)},function(){v=this.value,n(8,v)},function(){g=this.value,n(9,g)},()=>n(14,_="all"),()=>n(14,_="office"),()=>n(14,_="remote"),t=>S(t.id,"office"),t=>S(t.id,"remote")]}class ke extends dt{constructor(t){super(),ut(this,t,we,be,a,{},null,[-1,-1])}}function xe(t){return function(e){return"Enter"===e.key||" "===e.key&&!e.preventDefault()?t.call(this,e):void 0}}function _e(t,e){let n={update(e){"string"==typeof e?t.innerText=e:e?.domNodes?t.replaceChildren(...e.domNodes):e?.html&&(t.innerHTML=e.html)}};return n.update(e),n}function Ce(t,e){const n=n=>{t&&!t.contains(n.target)&&t.dispatchEvent(new CustomEvent(e+"outside",{detail:{jsEvent:n}}))};return document.addEventListener(e,n,!0),{destroy(){document.removeEventListener(e,n,!0)}}}function Te(t=void 0){return void 0!==t?t instanceof Date?Le(t):function(t){const e=t.match(/\d+/g);return new Date(Date.UTC(Number(e[0]),Number(e[1])-1,Number(e[2]),Number(e[3]||0),Number(e[4]||0),Number(e[5]||0)))}(t):Le(new Date)}function De(t){if("number"==typeof t)t={seconds:t};else if("string"==typeof t){let e=0,n=2;for(let l of t.split(":",3))e+=parseInt(l,10)*Math.pow(60,n--);t={seconds:e}}else t instanceof Date&&(t={hours:t.getUTCHours(),minutes:t.getUTCMinutes(),seconds:t.getUTCSeconds()});let e=t.weeks||t.week||0;return{years:t.years||t.year||0,months:t.months||t.month||0,days:7*e+(t.days||t.day||0),seconds:60*(t.hours||t.hour||0)*60+60*(t.minutes||t.minute||0)+(t.seconds||t.second||0),inWeeks:!!e}}function Ee(t){return new Date(t.getTime())}function Me(t,e,n=1){t.setUTCFullYear(t.getUTCFullYear()+n*e.years);let l=t.getUTCMonth()+n*e.months;for(t.setUTCMonth(l),l%=12,l<0&&(l+=12);t.getUTCMonth()!==l;)ze(t);return t.setUTCDate(t.getUTCDate()+n*e.days),t.setUTCSeconds(t.getUTCSeconds()+n*e.seconds),t}function Se(t,e=1){return t.setUTCDate(t.getUTCDate()+e),t}function ze(t,e=1){return Se(t,-e)}function je(t){return t.setUTCHours(0,0,0,0),t}function Fe(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())}function Ae(t,e=19){return t.toISOString().substring(0,e)}function Pe(t,...e){return e.every((e=>t.getTime()===e.getTime()))}function He(t,e){let n=e-t.getUTCDay();return t.setUTCDate(t.getUTCDate()+(n<=0?n:n-7)),t}function Ue(t){return"string"==typeof t&&t.length<=10}function Re(t,e){return Me(t,e),t}function Ne(t,e,n){if(function(t,e,n=1){Me(t,e,-n)}(t,e),n.length&&n.length<7)for(;n.includes(t.getUTCDay());)ze(t);return t}function Le(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()))}function qe(...t){return Object.assign(...t)}function Ie(t){return Object.keys(t)}function Be(...t){return Math.max(...t)}function Oe(t){return Array.isArray(t)}function We(t){return"function"==typeof t}function Ge(t){return t()}const Ye=t=>t;function Ve(t,e,n){n.update((n=>n.set(e,t)))}function Je(t){t.forEach(Ge),t.clear()}function Ke(t,e,n){e??=t,n.has(e)||n.set(e,setTimeout((()=>{n.delete(e),t()})))}function Qe(t,e,n,l=[]){let s=document.createElement(t);s.className=e,"string"==typeof n?s.innerText=n:n.domNodes?s.replaceChildren(...n.domNodes):n.html&&(s.innerHTML=n.html);for(let t of l)s.setAttribute(...t);return s}function Xe(t){return t.getBoundingClientRect()}function Ze(t,e){for(;e--;)t=t.parentElement;return t}function tn(t){return Xe(t).height}let en=Symbol("ec");function nn(t){return!!t?.[en]}function ln(t,e,n=document){for(let l of n.elementsFromPoint(t,e)){if(nn(l))return l;if(l.shadowRoot){let n=ln(t,e,l.shadowRoot);if(n)return n}}return null}function sn(t){return(t=qe({},t)).currentStart=Fe(t.currentStart),t.currentEnd=Fe(t.currentEnd),t.activeStart=Fe(t.activeStart),t.activeEnd=Fe(t.activeEnd),t}function an(t){return t.startsWith("list")}let on=1;function rn(t){return t.map((t=>{let e={id:"id"in t?String(t.id):`{generated-${on++}}`,resourceIds:cn(t,"resourceId").map(String),allDay:t.allDay??(Ue(t.start)&&Ue(t.end)),start:Te(t.start),end:Te(t.end),title:t.title??"",editable:t.editable,startEditable:t.startEditable,durationEditable:t.durationEditable,display:t.display??"auto",extendedProps:t.extendedProps??{},backgroundColor:t.backgroundColor??t.color,textColor:t.textColor,classNames:cn(t,"className"),styles:cn(t,"style")};if(e.allDay){je(e.start);let t=Ee(e.end);je(e.end),Pe(e.end,t)&&!Pe(e.end,e.start)||Se(e.end)}return e}))}function cn(t,e){let n=t[e+"s"]??t[e]??[];return Oe(n)?n:[n]}function un(t){return t.map((t=>({events:t.events,url:t.url&&t.url.trimEnd("&")||"",method:t.method&&t.method.toUpperCase()||"GET",extraParams:t.extraParams||{}})))}function dn(t,e,n){return{start:t.start>e?t.start:e,end:t.end<n?t.end:n,event:t}}function fn(t,e,n){return Qe("time",n.eventTime,t,[["datetime",Ae(e.start)]])}function hn(t,e,n){let l=e.classNames;return t&&(We(t)&&(t=t({event:mn(e),view:sn(n)})),l=[...Oe(t)?t:[t],...l]),l}function mn(t){return function(t,e){return t=qe({},t),t.start=e(t.start),t.end=e(t.end),t}(t,Fe)}function pn(t,e){let n={};if(t.length){let l;!function(t){t.sort(((t,e)=>t.start-e.start||e.event.allDay-t.event.allDay))}(t);for(let s of t){let t=[],a=je(Ee(s.start));for(;s.end>a;){if(!e.includes(a.getUTCDay())&&(t.push(Ee(a)),t.length>1)){let t=a.getTime();n[t]?n[t].chunks.push(s):n[t]={sorted:!1,chunks:[s]}}Se(a)}if(t.length){s.date=t[0],s.days=t.length,s.dates=t,s.start<t[0]&&(s.start=t[0]);let e=Se(Ee(t.at(-1)));s.end>e&&(s.end=e)}else s.date=je(Ee(s.start)),s.days=1,s.dates=[s.date];l&&Pe(l.date,s.date)&&(s.prev=l),l=s}}return n}function vn(t,e){t.length=e.length;let n=[];for(let e of t)n.push(e?.reposition?.());return n}function gn(t,e,n,l){return t.start<n&&t.end>e&&(!l||(Oe(l)||(l=[l]),l.some((e=>t.resourceIds.includes(e.id)))))}function yn(t){return function(t){return"preview"===t}(t)||function(t){return"ghost"===t}(t)||function(t){return"pointer"===t}(t)}function $n(t){return"background"===t}function bn(t){return function(t,e){return{...t,next:"Next "+e,prev:"Previous "+e}}(t,"month")}function wn(t){return e=>({...e,view:t})}function kn(t){return t.map((t=>({id:String(t.id),title:t.title||"",eventBackgroundColor:t.eventBackgroundColor,eventTextColor:t.eventTextColor,extendedProps:t.extendedProps??{}})))}function xn(t,e){return e.find((e=>t.resourceIds.includes(e.id)))}function _n(t,e){return pt([t,e],(([t,e])=>{let n=We(e)?{format:e}:new Intl.DateTimeFormat(t,e);return{format:t=>n.format(Fe(t))}}))}function Cn(t,e){return pt([t,e],(([t,e])=>{let n;if(We(e))n=e;else{let l=new Intl.DateTimeFormat(t,e);n=(t,e)=>{if(t<=e)return l.formatRange(t,e);{let n=l.formatRangeToParts(e,t),s="",a=["startRange","endRange"],o=[!1,!1];for(let t of n){let e=a.indexOf(t.source);e>=0?o[e]||(s+=Tn(a[1-e],n),o[e]=!0):s+=t.value}return s}}}return{formatRange:(t,e)=>n(Fe(t),Fe(e))}}))}function Tn(t,e){let n="";for(let l of e)l.source==t&&(n+=l.value);return n}class Dn{constructor(t,e){let n=function(t){let e={allDayContent:void 0,allDaySlot:!0,buttonText:{today:"today"},customButtons:{},date:new Date,datesSet:void 0,dayHeaderFormat:{weekday:"short",month:"numeric",day:"numeric"},dayHeaderAriaLabelFormat:{dateStyle:"full"},displayEventEnd:!0,duration:{weeks:1},events:[],eventAllUpdated:void 0,eventBackgroundColor:void 0,eventTextColor:void 0,eventClassNames:void 0,eventClick:void 0,eventColor:void 0,eventContent:void 0,eventDidMount:void 0,eventMouseEnter:void 0,eventMouseLeave:void 0,eventSources:[],eventTimeFormat:{hour:"numeric",minute:"2-digit"},filterEventsWithResources:!1,filterResourcesWithEvents:!1,firstDay:0,flexibleSlotTimeLimits:!1,headerToolbar:{start:"title",center:"",end:"today prev,next"},height:void 0,hiddenDays:[],highlightedDates:[],lazyFetching:!0,loading:void 0,locale:void 0,nowIndicator:!1,resourceLabelContent:void 0,resourceLabelDidMount:void 0,resources:[],selectable:!1,scrollTime:"06:00:00",slotDuration:"00:30:00",slotEventOverlap:!0,slotHeight:24,slotLabelFormat:{hour:"numeric",minute:"2-digit"},slotMaxTime:"24:00:00",slotMinTime:"00:00:00",slotWidth:72,theme:{allDay:"ec-all-day",active:"ec-active",bgEvent:"ec-bg-event",bgEvents:"ec-bg-events",body:"ec-body",button:"ec-button",buttonGroup:"ec-button-group",calendar:"ec",compact:"ec-compact",content:"ec-content",day:"ec-day",dayHead:"ec-day-head",days:"ec-days",event:"ec-event",eventBody:"ec-event-body",eventTime:"ec-event-time",eventTitle:"ec-event-title",events:"ec-events",extra:"ec-extra",handle:"ec-handle",header:"ec-header",hiddenScroll:"ec-hidden-scroll",highlight:"ec-highlight",icon:"ec-icon",line:"ec-line",lines:"ec-lines",nowIndicator:"ec-now-indicator",otherMonth:"ec-other-month",resource:"ec-resource",sidebar:"ec-sidebar",sidebarTitle:"ec-sidebar-title",today:"ec-today",time:"ec-time",title:"ec-title",toolbar:"ec-toolbar",view:"",weekdays:["ec-sun","ec-mon","ec-tue","ec-wed","ec-thu","ec-fri","ec-sat"],withScroll:"ec-with-scroll"},titleFormat:{year:"numeric",month:"short",day:"numeric"},view:void 0,viewDidMount:void 0,views:{}};for(let n of t)n.createOptions?.(e);return e}(t=t||[]),l=function(t){let e={date:t=>je(Te(t)),duration:De,events:rn,eventSources:un,hiddenDays:t=>[...new Set(t)],highlightedDates:t=>t.map((t=>je(Te(t)))),resources:kn,scrollTime:De,slotDuration:De,slotMaxTime:De,slotMinTime:De};for(let n of t)n.createParsers?.(e);return e}(t);n=En(n,l),e=En(e,l);for(let[t,e]of Object.entries(n))this[t]=mt(e);this._queue=mt(new Map),this._queue2=mt(new Map),this._tasks=new Map,this._auxiliary=mt([]),this._dayGrid=pt(this.view,(t=>t?.startsWith("dayGrid"))),this._currentRange=function(t){return pt([t.date,t.duration,t.firstDay],(([t,e,n])=>{let l,s=Ee(t);return e.months?s.setUTCDate(1):e.inWeeks&&He(s,n),l=Me(Ee(s),e),{start:s,end:l}}))}(this),this._activeRange=function(t){return pt([t._currentRange,t.firstDay,t.slotMaxTime,t._dayGrid],(([t,e,n,l])=>{let s=Ee(t.start),a=Ee(t.end);if(l)He(s,e),function(t,e){let n=e-t.getUTCDay();t.setUTCDate(t.getUTCDate()+(n>=0?n:n+7))}(a,e);else if(n.days||n.seconds>86400){Me(ze(a),n);let t=ze(Ee(a));t<s&&(s=t)}return{start:s,end:a}}))}(this),this._fetchedRange=mt({start:void 0,end:void 0}),this._events=function(t){let e,n=mt([]),l=0,s={};return pt([t.events,t.eventSources,t._activeRange,t._fetchedRange,t.lazyFetching,t.loading],((n,a)=>Ve((()=>{let[t,s,o,r,i,c]=n;if(s.length){if(!r.start||r.start>o.start||r.end<o.end||!i){e&&e.abort(),e=new AbortController,We(c)&&!l&&c(!0);let t=()=>{0==--l&&We(c)&&c(!1)},n=[],i=e=>t(),u=e=>{n=n.concat(rn(e)),a(n),t()},d=Ae(o.start),f=Ae(o.end);for(let t of s){if(We(t.events)){let e=t.events({start:Fe(o.start),end:Fe(o.end),startStr:d,endStr:f},u,i);void 0!==e&&Promise.resolve(e).then(u,i)}else{let n=We(t.extraParams)?t.extraParams():qe({},t.extraParams);n.start=d,n.end=f,n=new URLSearchParams(n);let l,s=t.url,a={};["GET","HEAD"].includes(t.method)?s+=(s.includes("?")?"&":"?")+n:(a["content-type"]="application/x-www-form-urlencoded;charset=UTF-8",l=String(n)),fetch(s,{method:t.method,headers:a,body:l,signal:e.signal,credentials:"same-origin"}).then((t=>t.json())).then(u).catch(i)}++l}r.start=o.start,r.end=o.end}}else a(t)}),s,t._queue)),[]).subscribe(n.set),n}(this),this._now=ht(Te(),(t=>{let e=setInterval((()=>{t(Te())}),1e3);return()=>clearInterval(e)})),this._today=function(t){return pt(t._now,(t=>je(Ee(t))))}(this),this._intlEventTime=Cn(this.locale,this.eventTimeFormat),this._intlSlotLabel=_n(this.locale,this.slotLabelFormat),this._intlDayHeader=_n(this.locale,this.dayHeaderFormat),this._intlDayHeaderAL=_n(this.locale,this.dayHeaderAriaLabelFormat),this._intlTitle=Cn(this.locale,this.titleFormat),this._bodyEl=mt(void 0),this._scrollable=mt(!1),this._viewTitle=function(t){return pt([t.date,t._activeRange,t._intlTitle,t._dayGrid],(([t,e,n,l])=>l?n.formatRange(t,t):n.formatRange(e.start,ze(Ee(e.end)))))}(this),this._viewDates=function(t){return pt([t._activeRange,t.hiddenDays],(([e,n])=>{let l=[],s=je(Ee(e.start)),a=je(Ee(e.end));for(;s<a;)n.includes(s.getUTCDay())||l.push(Ee(s)),Se(s);return!l.length&&n.length&&n.length<7&&(t.date.update((t=>{for(;n.includes(t.getUTCDay());)Se(t);return t})),l=r(t._viewDates)),l}))}(this),this._view=function(t){return pt([t.view,t._viewTitle,t._currentRange,t._activeRange],(t=>function(t,e,n,l){return{type:t,title:e,currentStart:n.start,currentEnd:n.end,activeStart:l.start,activeEnd:l.end,calendar:void 0}}(...t)))}(this),this._viewComponent=mt(void 0),this._interaction=mt({}),this._iEvents=mt([null,null]),this._iClasses=mt(Ye),this._iClass=mt(void 0),this._set=(t,e)=>{zn(t,this)&&(l[t]&&(e=l[t](e)),this[t].set(e))},this._get=t=>zn(t,this)?r(this[t]):void 0;for(let e of t)e.createStores?.(this);e.view&&this.view.set(e.view);let s=new Set([...Ie(n.views),...Ie(e.views??{})]);for(let t of s){let l=Mn(n,n.views[t]??{}),s=Mn(l,e,e.views?.[t]??{}),a=s.component;Sn(s,this);for(let t of Ie(s)){let{set:e,_set:n=e,...a}=this[t];this[t]={set:["buttonText","theme"].includes(t)?a=>{if(We(a)){let o=a(l[t]);s[t]=o,e(e===n?o:a)}else s[t]=a,e(a)}:n=>{s[t]=n,e(n)},_set:n,...a}}this.view.subscribe((e=>{if(e===t){this._viewComponent.set(a),We(s.viewDidMount)&&G().then((()=>s.viewDidMount(r(this._view))));for(let t of Ie(s))this[t]._set(s[t])}}))}}}function En(t,e){let n={...t};for(let t of Ie(e))t in n&&(n[t]=e[t](n[t]));if(t.views){n.views={};for(let l of Ie(t.views))n.views[l]=En(t.views[l],e)}return n}function Mn(...t){let e={};for(let n of t){let t={};for(let l of["buttonText","theme"])We(n[l])&&(t[l]=n[l](e[l]));e={...e,...n,...t}}return e}function Sn(t,e){Ie(t).filter((t=>!zn(t,e)||"view"==t)).forEach((e=>delete t[e]))}function zn(t,e){return e.hasOwnProperty(t)&&"_"!==t[0]}function jn(t,e,n){const l=t.slice();return l[25]=e[n],l}function Fn(t){let e,n,l,s,a,o=t[5][t[25]]+"";function r(){return t[22](t[25])}return{c(){e=p("button"),n=g(o),k(e,"class",l=t[3].button+(t[7]===t[25]?" "+t[3].active:"")+" ec-"+t[25])},m(t,l){f(t,e,l),d(e,n),s||(a=b(e,"click",r),s=!0)},p(s,a){t=s,33&a&&o!==(o=t[5][t[25]]+"")&&x(n,o),137&a&&l!==(l=t[3].button+(t[7]===t[25]?" "+t[3].active:"")+" ec-"+t[25])&&k(e,"class",l)},d(t){t&&h(e),s=!1,a()}}}function An(t){let e,n,a,o,r;return{c(){e=p("button"),k(e,"class",n=t[3].button+" ec-"+t[25]+(t[6][t[25]].active?" "+t[3].active:""))},m(n,l){f(n,e,l),o||(r=[b(e,"click",(function(){s(t[6][t[25]].click)&&t[6][t[25]].click.apply(this,arguments)})),u(a=_e.call(null,e,t[6][t[25]].text))],o=!0)},p(l,o){t=l,73&o&&n!==(n=t[3].button+" ec-"+t[25]+(t[6][t[25]].active?" "+t[3].active:""))&&k(e,"class",n),a&&s(a.update)&&65&o&&a.update.call(null,t[6][t[25]].text)},d(t){t&&h(e),o=!1,l(r)}}}function Pn(t){let e,n,l,s,a,o=t[5][t[25]]+"";return{c(){e=p("button"),n=g(o),k(e,"class",l=t[3].button+" ec-"+t[25]),e.disabled=t[1]},m(l,o){f(l,e,o),d(e,n),s||(a=b(e,"click",t[21]),s=!0)},p(t,s){33&s&&o!==(o=t[5][t[25]]+"")&&x(n,o),9&s&&l!==(l=t[3].button+" ec-"+t[25])&&k(e,"class",l),2&s&&(e.disabled=t[1])},d(t){t&&h(e),s=!1,a()}}}function Hn(t){let e,n,l,s,a,o,r,i;return{c(){e=p("button"),n=p("i"),k(n,"class",l=t[3].icon+" ec-"+t[25]),k(e,"class",s=t[3].button+" ec-"+t[25]),k(e,"aria-label",a=t[5].next),k(e,"title",o=t[5].next)},m(l,s){f(l,e,s),d(e,n),r||(i=b(e,"click",t[19]),r=!0)},p(t,r){9&r&&l!==(l=t[3].icon+" ec-"+t[25])&&k(n,"class",l),9&r&&s!==(s=t[3].button+" ec-"+t[25])&&k(e,"class",s),32&r&&a!==(a=t[5].next)&&k(e,"aria-label",a),32&r&&o!==(o=t[5].next)&&k(e,"title",o)},d(t){t&&h(e),r=!1,i()}}}function Un(t){let e,n,l,s,a,o,r,i;return{c(){e=p("button"),n=p("i"),k(n,"class",l=t[3].icon+" ec-"+t[25]),k(e,"class",s=t[3].button+" ec-"+t[25]),k(e,"aria-label",a=t[5].prev),k(e,"title",o=t[5].prev)},m(l,s){f(l,e,s),d(e,n),r||(i=b(e,"click",t[18]),r=!0)},p(t,r){9&r&&l!==(l=t[3].icon+" ec-"+t[25])&&k(n,"class",l),9&r&&s!==(s=t[3].button+" ec-"+t[25])&&k(e,"class",s),32&r&&a!==(a=t[5].prev)&&k(e,"aria-label",a),32&r&&o!==(o=t[5].prev)&&k(e,"title",o)},d(t){t&&h(e),r=!1,i()}}}function Rn(t){let e,n,l,a,o;return{c(){e=p("h2"),k(e,"class",n=t[3].title)},m(n,s){f(n,e,s),a||(o=u(l=_e.call(null,e,t[4])),a=!0)},p(t,a){8&a&&n!==(n=t[3].title)&&k(e,"class",n),l&&s(l.update)&&16&a&&l.update.call(null,t[4])},d(t){t&&h(e),a=!1,o()}}}function Nn(t){let e;function n(t,e){return"title"==t[25]?Rn:"prev"==t[25]?Un:"next"==t[25]?Hn:"today"==t[25]?Pn:t[6][t[25]]?An:""!=t[25]?Fn:void 0}let l=n(t),s=l&&l(t);return{c(){s&&s.c(),e=$()},m(t,n){s&&s.m(t,n),f(t,e,n)},p(t,a){l===(l=n(t))&&s?s.p(t,a):(s&&s.d(1),s=l&&l(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){s&&s.d(t),t&&h(e)}}}function Ln(e){let n,l=e[0],s=[];for(let t=0;t<l.length;t+=1)s[t]=Nn(jn(e,l,t));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();n=$()},m(t,e){for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(t,e);f(t,n,e)},p(t,[e]){if(917759&e){let a;for(l=t[0],a=0;a<l.length;a+=1){const o=jn(t,l,a);s[a]?s[a].p(o,e):(s[a]=Nn(o),s[a].c(),s[a].m(n.parentNode,n))}for(;a<s.length;a+=1)s[a].d(1);s.length=l.length}},i:t,o:t,d(t){m(s,t),t&&h(n)}}}function qn(t,e,n){let l,s,a,o,r,u,d,f,h,{buttons:m}=e,{_currentRange:p,_viewTitle:v,buttonText:g,customButtons:y,date:$,duration:b,hiddenDays:w,theme:k,view:x}=U("state");i(t,p,(t=>n(20,o=t))),i(t,v,(t=>n(4,u=t))),i(t,g,(t=>n(5,d=t))),i(t,y,(t=>n(6,f=t))),i(t,$,(t=>n(2,s=t))),i(t,b,(t=>n(23,l=t))),i(t,w,(t=>n(24,a=t))),i(t,k,(t=>n(3,r=t))),i(t,x,(t=>n(7,h=t)));let _,C=je(Te());return t.$$set=t=>{"buttons"in t&&n(0,m=t.buttons)},t.$$.update=()=>{1048576&t.$$.dirty&&n(1,_=C>=o.start&&C<o.end||null)},[m,_,s,r,u,d,f,h,p,v,g,y,$,b,w,k,x,C,function(){c($,s=Ne(s,l,a),s)},function(){c($,s=Re(s,l),s)},o,()=>c($,s=Ee(C),s),t=>c(x,h=t,h)]}class In extends dt{constructor(t){super(),ut(this,t,qn,Ln,a,{buttons:0})}}function Bn(t,e,n){const l=t.slice();return l[5]=e[n],l}function On(t,e,n){const l=t.slice();return l[8]=e[n],l}function Wn(t){let e,n;return e=new In({props:{buttons:t[8]}}),{c(){rt(e.$$.fragment)},m(t,l){it(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.buttons=t[8]),e.$set(l)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Gn(t){let e,n,l,s;return n=new In({props:{buttons:t[8]}}),{c(){e=p("div"),rt(n.$$.fragment),k(e,"class",l=t[1].buttonGroup)},m(t,l){f(t,e,l),it(n,e,null),s=!0},p(t,a){const o={};1&a&&(o.buttons=t[8]),n.$set(o),(!s||2&a&&l!==(l=t[1].buttonGroup))&&k(e,"class",l)},i(t){s||(nt(n.$$.fragment,t),s=!0)},o(t){lt(n.$$.fragment,t),s=!1},d(t){t&&h(e),ct(n)}}}function Yn(t){let e,n,l,s;const a=[Gn,Wn],o=[];function r(t,e){return t[8].length>1?0:1}return e=r(t),n=o[e]=a[e](t),{c(){n.c(),l=$()},m(t,n){o[e].m(t,n),f(t,l,n),s=!0},p(t,s){let i=e;e=r(t),e===i?o[e].p(t,s):(tt(),lt(o[i],1,1,(()=>{o[i]=null})),et(),n=o[e],n?n.p(t,s):(n=o[e]=a[e](t),n.c()),nt(n,1),n.m(l.parentNode,l))},i(t){s||(nt(n),s=!0)},o(t){lt(n),s=!1},d(t){o[e].d(t),t&&h(l)}}}function Vn(t){let e,n,l,s,a=t[0][t[5]],o=[];for(let e=0;e<a.length;e+=1)o[e]=Yn(On(t,a,e));const r=t=>lt(o[t],1,1,(()=>{o[t]=null}));return{c(){e=p("div");for(let t=0;t<o.length;t+=1)o[t].c();n=y(),k(e,"class",l="ec-"+t[5])},m(t,l){f(t,e,l);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);d(e,n),s=!0},p(t,i){if(3&i){let l;for(a=t[0][t[5]],l=0;l<a.length;l+=1){const s=On(t,a,l);o[l]?(o[l].p(s,i),nt(o[l],1)):(o[l]=Yn(s),o[l].c(),nt(o[l],1),o[l].m(e,n))}for(tt(),l=a.length;l<o.length;l+=1)r(l);et()}(!s||1&i&&l!==(l="ec-"+t[5]))&&k(e,"class",l)},i(t){if(!s){for(let t=0;t<a.length;t+=1)nt(o[t]);s=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)lt(o[t]);s=!1},d(t){t&&h(e),m(o,t)}}}function Jn(t){let e,n,l,s=Ie(t[0]),a=[];for(let e=0;e<s.length;e+=1)a[e]=Vn(Bn(t,s,e));const o=t=>lt(a[t],1,1,(()=>{a[t]=null}));return{c(){e=p("nav");for(let t=0;t<a.length;t+=1)a[t].c();k(e,"class",n=t[1].toolbar)},m(t,n){f(t,e,n);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null);l=!0},p(t,[r]){if(3&r){let n;for(s=Ie(t[0]),n=0;n<s.length;n+=1){const l=Bn(t,s,n);a[n]?(a[n].p(l,r),nt(a[n],1)):(a[n]=Vn(l),a[n].c(),nt(a[n],1),a[n].m(e,null))}for(tt(),n=s.length;n<a.length;n+=1)o(n);et()}(!l||2&r&&n!==(n=t[1].toolbar))&&k(e,"class",n)},i(t){if(!l){for(let t=0;t<s.length;t+=1)nt(a[t]);l=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)lt(a[t]);l=!1},d(t){t&&h(e),m(a,t)}}}function Kn(t,e,n){let l,s,{headerToolbar:a,theme:o}=U("state");i(t,a,(t=>n(4,l=t))),i(t,o,(t=>n(1,s=t)));let r={start:[],center:[],end:[]};return t.$$.update=()=>{if(17&t.$$.dirty)for(let t of Ie(r))n(0,r[t]=l[t].split(" ").map((t=>t.split(","))),r)},[r,s,a,o,l]}class Qn extends dt{constructor(t){super(),ut(this,t,Kn,Jn,a,{})}}function Xn(t,e,n){const l=t.slice();return l[11]=e[n],l}function Zn(t){let e,n,l;var s=t[11];return s&&(e=M(s,{})),{c(){e&&rt(e.$$.fragment),n=$()},m(t,s){e&&it(e,t,s),f(t,n,s),l=!0},p(t,l){if(1&l&&s!==(s=t[11])){if(e){tt();const t=e;lt(t.$$.fragment,1,0,(()=>{ct(t,1)})),et()}s?(e=M(s,{}),rt(e.$$.fragment),nt(e.$$.fragment,1),it(e,n.parentNode,n)):e=null}},i(t){l||(e&&nt(e.$$.fragment,t),l=!0)},o(t){e&&lt(e.$$.fragment,t),l=!1},d(t){t&&h(n),e&&ct(e,t)}}}function tl(t){let e,n,l=t[0],s=[];for(let e=0;e<l.length;e+=1)s[e]=Zn(Xn(t,l,e));const a=t=>lt(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=$()},m(t,l){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,l);f(t,e,l),n=!0},p(t,[n]){if(1&n){let o;for(l=t[0],o=0;o<l.length;o+=1){const a=Xn(t,l,o);s[o]?(s[o].p(a,n),nt(s[o],1)):(s[o]=Zn(a),s[o].c(),nt(s[o],1),s[o].m(e.parentNode,e))}for(tt(),o=l.length;o<s.length;o+=1)a(o);et()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)nt(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)lt(s[t]);n=!1},d(t){m(s,t),t&&h(e)}}}function el(t,e,n){let l,s,a,o,{datesSet:r,_auxiliary:c,_activeRange:u,_queue:d,_view:f}=U("state");i(t,r,(t=>n(7,s=t))),i(t,c,(t=>n(0,o=t))),i(t,u,(t=>n(5,a=t))),i(t,f,(t=>n(6,l=t)));let h={};return t.$$.update=()=>{32&t.$$.dirty&&function(t){We(s)&&Ve((()=>s({start:Fe(t.start),end:Fe(t.end),startStr:Ae(t.start),endStr:Ae(t.end),view:sn(l)})),h,d)}(a)},[o,r,c,u,f,a]}class nl extends dt{constructor(t){super(),ut(this,t,el,tl,a,{})}}function ll(t){let e,n,l,s,a,o,r,i,c,u,m;n=new Qn({});var v=t[5];return v&&(s=M(v,{})),i=new nl({}),{c(){e=p("div"),rt(n.$$.fragment),l=y(),s&&rt(s.$$.fragment),r=y(),rt(i.$$.fragment),k(e,"class",a=t[1].calendar+" "+t[1].view+(t[0]?" "+t[1].withScroll:"")+(t[2]?" "+t[1][t[2]]:"")),k(e,"role",o=an(t[4])?"list":"table"),C(e,"height",t[3])},m(a,o){f(a,e,o),it(n,e,null),d(e,l),s&&it(s,e,null),f(a,r,o),it(i,a,o),c=!0,u||(m=b(window,"resize",t[20]),u=!0)},p(t,n){if(32&n[0]&&v!==(v=t[5])){if(s){tt();const t=s;lt(t.$$.fragment,1,0,(()=>{ct(t,1)})),et()}v?(s=M(v,{}),rt(s.$$.fragment),nt(s.$$.fragment,1),it(s,e,null)):s=null}(!c||7&n[0]&&a!==(a=t[1].calendar+" "+t[1].view+(t[0]?" "+t[1].withScroll:"")+(t[2]?" "+t[1][t[2]]:"")))&&k(e,"class",a),(!c||16&n[0]&&o!==(o=an(t[4])?"list":"table"))&&k(e,"role",o),8&n[0]&&C(e,"height",t[3])},i(t){c||(nt(n.$$.fragment,t),s&&nt(s.$$.fragment,t),nt(i.$$.fragment,t),c=!0)},o(t){lt(n.$$.fragment,t),s&&lt(s.$$.fragment,t),lt(i.$$.fragment,t),c=!1},d(t){t&&h(e),ct(n),s&&ct(s),t&&h(r),ct(i,t),u=!1,m()}}}function sl(t,e,n){let l,s,a,o,u,d,f,h,m,p,v,g,y,$,{plugins:b=[]}=e,{options:w={}}=e,k=new Dn(b,w);var x,_;x="state",_=k,j().$$.context.set(x,_);let{_viewComponent:C,_bodyEl:T,_interaction:D,_iClass:E,_events:M,_queue:S,_queue2:z,_tasks:F,_scrollable:P,date:H,duration:U,hiddenDays:R,height:N,theme:L,view:q}=k;i(t,C,(t=>n(5,$=t))),i(t,T,(t=>n(36,l=t))),i(t,D,(t=>n(42,h=t))),i(t,E,(t=>n(2,v=t))),i(t,M,(t=>n(43,m=t))),i(t,S,(t=>n(38,o=t))),i(t,z,(t=>n(37,a=t))),i(t,P,(t=>n(0,s=t))),i(t,H,(t=>n(41,f=t))),i(t,U,(t=>n(40,d=t))),i(t,R,(t=>n(39,u=t))),i(t,N,(t=>n(3,g=t))),i(t,L,(t=>n(1,p=t))),i(t,q,(t=>n(4,y=t)));let I={...w};function B(t,e){return k._set(t,e),this}var O;function W(){var t;l&&c(P,s=(t=l).scrollHeight>t.clientHeight,s)}return O=()=>{Je(o)},j().$$.before_update.push(O),A((()=>{Je(a),Ke(W,null,F)})),t.$$set=t=>{"plugins"in t&&n(21,b=t.plugins),"options"in t&&n(22,w=t.options)},t.$$.update=()=>{if(4194304&t.$$.dirty[0])for(let[t,e]of function(t,e){let n=[];for(let l of Ie(t))t[l]!==e[l]&&n.push([l,t[l]]);return qe(e,t),n}(w,I))B(t,e)},[s,p,v,g,y,$,C,T,D,E,M,S,z,P,H,U,R,N,L,q,W,b,w,B,function(t){let e=k._get(t);return e instanceof Date?Fe(e):e},function(){return k._fetchedRange.set({start:void 0,end:void 0}),this},function(){return m.map(mn)},function(t){for(let e of m)if(e.id==t)return mn(e);return null},function(t){return t=rn([t])[0],m.push(t),M.set(m),t},function(t){for(let e of m)if(e.id==t.id)return qe(e,t=rn([t])[0]),M.set(m),t;return null},function(t){let e=m.findIndex((e=>e.id==t));return e>=0&&(m.splice(e,1),M.set(m)),this},function(){return sn(r(k._view))},function(){return h.action?.unselect(),this},function(t,e){let n=ln(t,e);if(n){let l=n[en](t,e);return l.date=Fe(l.date),l}return null},function(){return c(H,f=Re(f,d),f),this},function(){return c(H,f=Ne(f,d,u),f),this}]}class al extends dt{constructor(t){super(),ut(this,t,sl,ll,a,{plugins:21,options:22,setOption:23,getOption:24,refetchEvents:25,getEvents:26,getEventById:27,addEvent:28,updateEvent:29,removeEventById:30,getView:31,unselect:32,dateFromPoint:33,next:34,prev:35},null,[-1,-1])}get setOption(){return this.$$.ctx[23]}get getOption(){return this.$$.ctx[24]}get refetchEvents(){return this.$$.ctx[25]}get getEvents(){return this.$$.ctx[26]}get getEventById(){return this.$$.ctx[27]}get addEvent(){return this.$$.ctx[28]}get updateEvent(){return this.$$.ctx[29]}get removeEventById(){return this.$$.ctx[30]}get getView(){return this.$$.ctx[31]}get unselect(){return this.$$.ctx[32]}get dateFromPoint(){return this.$$.ctx[33]}get next(){return this.$$.ctx[34]}get prev(){return this.$$.ctx[35]}}function ol(t,e,n){const l=t.slice();return l[8]=e[n],l}function rl(t){let e,n,l,a,o,r,i,c;return{c(){e=p("div"),n=p("span"),o=y(),k(n,"aria-label",l=t[2].format(t[8])),k(e,"class",r=t[0].day+" "+t[0].weekdays?.[t[8].getUTCDay()]),k(e,"role","columnheader")},m(l,s){f(l,e,s),d(e,n),d(e,o),i||(c=u(a=_e.call(null,n,t[3].format(t[8]))),i=!0)},p(o,i){t=o,6&i&&l!==(l=t[2].format(t[8]))&&k(n,"aria-label",l),a&&s(a.update)&&10&i&&a.update.call(null,t[3].format(t[8])),3&i&&r!==(r=t[0].day+" "+t[0].weekdays?.[t[8].getUTCDay()])&&k(e,"class",r)},d(t){t&&h(e),i=!1,c()}}}function il(e){let n,l,s,a,o,r,i,c=e[1],u=[];for(let t=0;t<c.length;t+=1)u[t]=rl(ol(e,c,t));return{c(){n=p("div"),l=p("div");for(let t=0;t<u.length;t+=1)u[t].c();a=y(),o=p("div"),k(l,"class",s=e[0].days),k(l,"role","row"),k(o,"class",r=e[0].hiddenScroll),k(n,"class",i=e[0].header)},m(t,e){f(t,n,e),d(n,l);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(l,null);d(n,a),d(n,o)},p(t,[e]){if(15&e){let n;for(c=t[1],n=0;n<c.length;n+=1){const s=ol(t,c,n);u[n]?u[n].p(s,e):(u[n]=rl(s),u[n].c(),u[n].m(l,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=c.length}1&e&&s!==(s=t[0].days)&&k(l,"class",s),1&e&&r!==(r=t[0].hiddenScroll)&&k(o,"class",r),1&e&&i!==(i=t[0].header)&&k(n,"class",i)},i:t,o:t,d(t){t&&h(n),m(u,t)}}}function cl(t,e,n){let l,s,a,o,{theme:r,_intlDayHeader:c,_intlDayHeaderAL:u,_days:d}=U("state");return i(t,r,(t=>n(0,l=t))),i(t,c,(t=>n(3,o=t))),i(t,u,(t=>n(2,a=t))),i(t,d,(t=>n(1,s=t))),[l,s,a,o,r,c,u,d]}class ul extends dt{constructor(t){super(),ut(this,t,cl,il,a,{})}}function dl(t){let e,n,a,o,r,i,c,m,v,g,$;var w=t[8].resizer;function x(t){return{props:{event:t[0]}}}return w&&(i=M(w,x(t)),i.$on("pointerdown",(function(){s(t[32](t[8],"x"))&&t[32](t[8],"x").apply(this,arguments)}))),{c(){e=p("article"),n=p("div"),r=y(),i&&rt(i.$$.fragment),k(n,"class",a=t[2].eventBody),k(e,"class",t[4]),k(e,"style",t[5]),k(e,"role",c=t[7]?"button":void 0),k(e,"tabindex",m=t[7]?0:void 0)},m(l,a){f(l,e,a),d(e,n),d(e,r),i&&it(i,e,null),t[51](e),v=!0,g||($=[u(o=_e.call(null,n,t[6])),b(e,"click",(function(){s(t[7]||void 0)&&(t[7]||void 0).apply(this,arguments)})),b(e,"keydown",(function(){s(t[7]&&xe(t[7]))&&(t[7]&&xe(t[7])).apply(this,arguments)})),b(e,"mouseenter",(function(){s(t[31](t[9],t[1]))&&t[31](t[9],t[1]).apply(this,arguments)})),b(e,"mouseleave",(function(){s(t[31](t[10],t[1]))&&t[31](t[10],t[1]).apply(this,arguments)})),b(e,"pointerdown",(function(){s(!yn(t[1])&&t[32](t[8]))&&(!yn(t[1])&&t[32](t[8])).apply(this,arguments)}))],g=!0)},p(l,r){t=l,(!v||4&r[0]&&a!==(a=t[2].eventBody))&&k(n,"class",a),o&&s(o.update)&&64&r[0]&&o.update.call(null,t[6]);const u={};if(1&r[0]&&(u.event=t[0]),256&r[0]&&w!==(w=t[8].resizer)){if(i){tt();const t=i;lt(t.$$.fragment,1,0,(()=>{ct(t,1)})),et()}w?(i=M(w,x(t)),i.$on("pointerdown",(function(){s(t[32](t[8],"x"))&&t[32](t[8],"x").apply(this,arguments)})),rt(i.$$.fragment),nt(i.$$.fragment,1),it(i,e,null)):i=null}else w&&i.$set(u);(!v||16&r[0])&&k(e,"class",t[4]),(!v||32&r[0])&&k(e,"style",t[5]),(!v||128&r[0]&&c!==(c=t[7]?"button":void 0))&&k(e,"role",c),(!v||128&r[0]&&m!==(m=t[7]?0:void 0))&&k(e,"tabindex",m)},i(t){v||(i&&nt(i.$$.fragment,t),v=!0)},o(t){i&&lt(i.$$.fragment,t),v=!1},d(n){n&&h(e),i&&ct(i),t[51](null),g=!1,l($)}}}function fl(t,e,n){let l,s,a,o,r,c,u,d,f,h,m,p,v,g,y,$,b,w,k,x,_,C,T,D,E,M,{chunk:S}=e,{longChunks:z={}}=e,{inPopup:j=!1}=e,{dates:P=[]}=e,{dayMaxEvents:H,displayEventEnd:R,eventAllUpdated:N,eventBackgroundColor:q,eventTextColor:I,eventClick:B,eventColor:O,eventContent:W,eventClassNames:G,eventDidMount:Y,eventMouseEnter:V,eventMouseLeave:J,resources:K,theme:Q,_view:X,_intlEventTime:Z,_interaction:tt,_iClasses:et,_hiddenEvents:nt,_popupDate:lt,_tasks:st}=U("state");i(t,H,(t=>n(54,a=t))),i(t,R,(t=>n(44,p=t))),i(t,N,(t=>n(56,u=t))),i(t,q,(t=>n(50,w=t))),i(t,I,(t=>n(47,y=t))),i(t,B,(t=>n(40,l=t))),i(t,O,(t=>n(49,b=t))),i(t,W,(t=>n(43,m=t))),i(t,G,(t=>n(45,v=t))),i(t,Y,(t=>n(57,d=t))),i(t,V,(t=>n(9,k=t))),i(t,J,(t=>n(10,x=t))),i(t,K,(t=>n(48,$=t))),i(t,Q,(t=>n(2,h=t))),i(t,X,(t=>n(41,c=t))),i(t,Z,(t=>n(42,f=t))),i(t,tt,(t=>n(8,r=t))),i(t,et,(t=>n(46,g=t))),i(t,nt,(t=>n(53,s=t))),i(t,lt,(t=>n(55,o=t)));let at,ot,rt=1,it=!1;function ct(t,e){return!yn(e)&&We(t)?e=>t({event:mn(C),el:_,jsEvent:e,view:sn(c)}):void 0}return F((()=>{We(d)&&d({event:mn(C),timeText:M,el:_,view:sn(c)})})),A((()=>{We(u)&&!yn(at)&&Ke((()=>u({view:sn(c)})),"eau",st)})),t.$$set=t=>{"chunk"in t&&n(33,S=t.chunk),"longChunks"in t&&n(34,z=t.longChunks),"inPopup"in t&&n(35,j=t.inPopup),"dates"in t&&n(36,P=t.dates)},t.$$.update=()=>{if(4&t.$$.dirty[1]&&n(0,C=S.event),39&t.$$.dirty[0]|1033604&t.$$.dirty[1]){n(1,at=C.display);let t=C.backgroundColor||function(t,e){return xn(t,e)?.eventBackgroundColor}(C,$)||w||b,e=C.textColor||function(t,e){return xn(t,e)?.eventTextColor}(C,$)||y;if($n(at))n(5,D=`width:calc(${100*S.days}% + ${S.days-1}px);`);else{let t=rt;if(C._margin){let[e,n]=C._margin;S.date>=n[0]&&S.date<=n.at(-1)&&(t=e)}n(5,D=`width:calc(${100*S.days}% + ${7*(S.days-1)}px);margin-top:${t}px;`)}t&&n(5,D+=`background-color:${t};`),e&&n(5,D+=`color:${e};`),it&&n(5,D+="visibility:hidden;"),n(5,D+=C.styles.join(";")),n(4,T=[$n(at)?h.bgEvent:h.event,...g([],C),...hn(v,C,c)].join(" "))}4&t.$$.dirty[0]|15364&t.$$.dirty[1]&&n(6,[M,E]=function(t,e,n,l,s,a){let o=s.formatRange(t.start,e&&"pointer"!==t.event.display?(r=Ee(t.start),i=t.end,r.setUTCHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),0),r):t.start);var r,i;let c;if(n&&(c=We(n)?n({event:mn(t.event),timeText:o,view:sn(a)}):n),void 0===c){let e;switch(t.event.display){case"background":e=[];break;case"pointer":e=[fn(o,t,l)];break;default:e=[...t.event.allDay?[]:[fn(o,t,l)],Qe("h4",l.eventTitle,t.event.title)]}c={domNodes:e}}return[o,c]}(S,p,m,h,f,c),E),2&t.$$.dirty[0]|512&t.$$.dirty[1]&&n(7,ot=ct(l,at))},[C,at,h,_,T,D,E,ot,r,k,x,H,R,N,q,I,B,O,W,G,Y,V,J,K,Q,X,Z,tt,et,nt,lt,ct,function(t,e){return t.action?t=>r.action.drag(C,t,e,j?o:null,[Xe(_).top-Xe(Ze(_,1)).top,P]):void 0},S,z,j,P,function(){_&&(n(38,rt=function(t,e,n){t.top=0,t.prev&&(t.top=t.prev.bottom+1),t.bottom=t.top+n;let l=1,s=t.date.getTime();if(e[s]){e[s].sorted||(e[s].chunks.sort(((t,e)=>t.top-e.top)),e[s].sorted=!0);for(let n of e[s].chunks)if(t.top<n.bottom&&t.bottom>n.top){let e=n.bottom-t.top+1;l+=e,t.top+=e,t.bottom+=e}}return l}(S,z,tn(_))),!0===a?function(){let t=Ze(_,2),e=tn(t)-tn(t.firstElementChild)-function(t){let e=0;for(let n=0;n<S.days&&(e=Be(e,tn(t.lastElementChild)),t=t.nextElementSibling);++n);return e}(t);n(39,it=S.bottom>e);let l=!1;for(let t of S.dates){let e=s[t.getTime()];if(e){let t=e.size;it?e.add(S.event):e.delete(S.event),t!==e.size&&(l=!0)}}l&&nt.set(s)}():n(39,it=!1))},rt,it,l,c,f,m,p,v,g,y,$,b,w,function(t){L[t?"unshift":"push"]((()=>{_=t,n(3,_)}))}]}class hl extends dt{constructor(t){super(),ut(this,t,fl,dl,a,{chunk:33,longChunks:34,inPopup:35,dates:36,reposition:37},null,[-1,-1])}get reposition(){return this.$$.ctx[37]}}function ml(t,e,n){const l=t.slice();return l[20]=e[n],l}function pl(t,e){let n,l,s;return l=new hl({props:{chunk:e[20],inPopup:!0}}),{key:t,first:null,c(){n=$(),rt(l.$$.fragment),this.first=n},m(t,e){f(t,n,e),it(l,t,e),s=!0},p(t,n){e=t;const s={};1&n&&(s.chunk=e[20]),l.$set(s)},i(t){s||(nt(l.$$.fragment,t),s=!0)},o(t){lt(l.$$.fragment,t),s=!1},d(t){t&&h(n),ct(l,t)}}}function vl(t){let e,n,a,o,r,i,c,m,v,$,x,_,C,T,D,E,M,S=[],z=new Map,j=t[0];const F=t=>t[20].event;for(let e=0;e<j.length;e+=1){let n=ml(t,j,e),l=F(n);z.set(l,S[e]=pl(l,n))}return{c(){e=p("div"),n=p("div"),a=p("time"),i=y(),c=p("a"),m=g("×"),x=y(),_=p("div");for(let t=0;t<S.length;t+=1)S[t].c();k(a,"datetime",o=Ae(t[3],10)),k(c,"role","button"),k(c,"tabindex","0"),k(c,"aria-label",v=t[6].close),k(n,"class",$=t[4].dayHead),k(_,"class",C=t[4].events),k(e,"class",T=t[4].popup),k(e,"style",t[2])},m(l,s){f(l,e,s),d(e,n),d(n,a),d(n,i),d(n,c),d(c,m),d(e,x),d(e,_);for(let t=0;t<S.length;t+=1)S[t]&&S[t].m(_,null);t[16](e),D=!0,E||(M=[u(r=_e.call(null,a,t[5].format(t[3]))),b(c,"click",w(t[13])),b(c,"keydown",xe(t[13])),u(Ce.call(null,e,"pointerdown")),b(e,"pointerdown",w(t[15])),b(e,"pointerdownoutside",t[14])],E=!0)},p(t,[l]){(!D||8&l&&o!==(o=Ae(t[3],10)))&&k(a,"datetime",o),r&&s(r.update)&&40&l&&r.update.call(null,t[5].format(t[3])),(!D||64&l&&v!==(v=t[6].close))&&k(c,"aria-label",v),(!D||16&l&&$!==($=t[4].dayHead))&&k(n,"class",$),1&l&&(j=t[0],tt(),S=ot(S,l,F,1,t,j,z,_,at,pl,null,ml),et()),(!D||16&l&&C!==(C=t[4].events))&&k(_,"class",C),(!D||16&l&&T!==(T=t[4].popup))&&k(e,"class",T),(!D||4&l)&&k(e,"style",t[2])},i(t){if(!D){for(let t=0;t<j.length;t+=1)nt(S[t]);D=!0}},o(t){for(let t=0;t<S.length;t+=1)lt(S[t]);D=!1},d(n){n&&h(e);for(let t=0;t<S.length;t+=1)S[t].d();t[16](null),E=!1,l(M)}}}function gl(t,e,n){let l,s,a,o,r,u,d,{buttonText:f,theme:h,_interaction:m,_intlDayPopover:p,_popupDate:v,_popupChunks:g}=U("state");i(t,f,(t=>n(6,u=t))),i(t,h,(t=>n(4,o=t))),i(t,m,(t=>n(17,l=t))),i(t,p,(t=>n(5,r=t))),i(t,v,(t=>n(3,s=t))),i(t,g,(t=>n(0,a=t)));let y="";function $(){d&&(n(2,y=""),G().then((()=>{a.length?function(){let t,e,l=Ze(d,1),s=Ze(l,3),a=Xe(d),o=Xe(l),r=Xe(s);if(n(2,y=""),a.width>=r.width){t=r.left-o.left;let e=o.right-r.right;n(2,y+=`right:${e}px;`)}else t=(o.width-a.width)/2,o.left+t<r.left?t=r.left-o.left:o.left+t+a.width>r.right&&(t=r.right-o.left-a.width);if(n(2,y+=`left:${t}px;`),a.height>=r.height){e=r.top-o.top;let t=o.bottom-r.bottom;n(2,y+=`bottom:${t}px;`)}else e=(o.height-a.height)/2,o.top+e<r.top?e=r.top-o.top:o.top+e+a.height>r.bottom&&(e=r.bottom-o.top-a.height);n(2,y+=`top:${e}px;`)}():b()})))}function b(t){c(v,s=null,s)}return t.$$.update=()=>{1&t.$$.dirty&&a&&$()},[a,d,y,s,o,r,u,f,h,m,p,v,g,b,function(t){b(),l.action?.noClick()},function(e){R.call(this,t,e)},function(t){L[t?"unshift":"push"]((()=>{d=t,n(1,d)}))}]}class yl extends dt{constructor(t){super(),ut(this,t,gl,vl,a,{})}}function $l(t,e,n){const l=t.slice();return l[44]=e[n],l[45]=e,l[46]=n,l}function bl(t,e,n){const l=t.slice();return l[44]=e[n],l}function wl(t,e){let n,l,s;return l=new hl({props:{chunk:e[44]}}),{key:t,first:null,c(){n=$(),rt(l.$$.fragment),this.first=n},m(t,e){f(t,n,e),it(l,t,e),s=!0},p(t,n){e=t;const s={};256&n[0]&&(s.chunk=e[44]),l.$set(s)},i(t){s||(nt(l.$$.fragment,t),s=!0)},o(t){lt(l.$$.fragment,t),s=!1},d(t){t&&h(n),ct(l,t)}}}function kl(t){let e,n,l,s;return n=new hl({props:{chunk:t[2][2]}}),{c(){e=p("div"),rt(n.$$.fragment),k(e,"class",l=t[14].events)},m(t,l){f(t,e,l),it(n,e,null),s=!0},p(t,a){const o={};4&a[0]&&(o.chunk=t[2][2]),n.$set(o),(!s||16384&a[0]&&l!==(l=t[14].events))&&k(e,"class",l)},i(t){s||(nt(n.$$.fragment,t),s=!0)},o(t){lt(n.$$.fragment,t),s=!1},d(t){t&&h(e),ct(n)}}}function xl(t){let e,n,l,s;return n=new hl({props:{chunk:t[2][0]}}),{c(){e=p("div"),rt(n.$$.fragment),k(e,"class",l=t[14].events+" "+t[14].preview)},m(t,l){f(t,e,l),it(n,e,null),s=!0},p(t,a){const o={};4&a[0]&&(o.chunk=t[2][0]),n.$set(o),(!s||16384&a[0]&&l!==(l=t[14].events+" "+t[14].preview))&&k(e,"class",l)},i(t){s||(nt(n.$$.fragment,t),s=!0)},o(t){lt(n.$$.fragment,t),s=!1},d(t){t&&h(e),ct(n)}}}function _l(t,e){let n,l,s,a=e[46];const o=()=>e[38](l,a),r=()=>e[38](null,a);let i={chunk:e[44],longChunks:e[1],dates:e[3]};return l=new hl({props:i}),o(),{key:t,first:null,c(){n=$(),rt(l.$$.fragment),this.first=n},m(t,e){f(t,n,e),it(l,t,e),s=!0},p(t,n){a!==(e=t)[46]&&(r(),a=e[46],o());const s={};32&n[0]&&(s.chunk=e[44]),2&n[0]&&(s.longChunks=e[1]),8&n[0]&&(s.dates=e[3]),l.$set(s)},i(t){s||(nt(l.$$.fragment,t),s=!0)},o(t){lt(l.$$.fragment,t),s=!1},d(t){t&&h(n),r(),ct(l,t)}}}function Cl(t){let e,n;return e=new yl({}),{c(){rt(e.$$.fragment)},m(t,l){it(e,t,l),n=!0},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Tl(t){let e,n,a,o;return{c(){e=p("a"),k(e,"role","button"),k(e,"tabindex","0"),k(e,"aria-haspopup","true")},m(l,s){f(l,e,s),a||(o=[b(e,"click",w(t[27])),b(e,"keydown",xe(t[27])),b(e,"pointerdown",w(t[37])),u(n=_e.call(null,e,t[12]))],a=!0)},p(t,e){n&&s(n.update)&&4096&e[0]&&n.update.call(null,t[12])},d(t){t&&h(e),a=!1,l(o)}}}function Dl(t){let e,n,a,o,r,i,c,m,v,g,$,w,x,_,C,T,D,E,M,S,z,j=[],F=new Map,A=t[2][2]&&Pe(t[2][2].date,t[0]),P=t[2][0]&&Pe(t[2][0].date,t[0]),H=[],U=new Map,R=t[8];const N=t=>t[44].event;for(let e=0;e<R.length;e+=1){let n=bl(t,R,e),l=N(n);F.set(l,j[e]=wl(l,n))}let L=A&&kl(t),q=P&&xl(t),I=t[5];const B=t=>t[44].event;for(let e=0;e<I.length;e+=1){let n=$l(t,I,e),l=B(n);U.set(l,H[e]=_l(l,n))}let O=t[7]&&Cl(),W=t[6].size&&Tl(t);return{c(){e=p("div"),n=p("time"),i=y(),c=p("div");for(let t=0;t<j.length;t+=1)j[t].c();v=y(),L&&L.c(),g=y(),q&&q.c(),$=y(),w=p("div");for(let t=0;t<H.length;t+=1)H[t].c();_=y(),O&&O.c(),C=y(),T=p("div"),W&&W.c(),k(n,"class",a=t[14].dayHead),k(n,"datetime",o=Ae(t[0],10)),k(c,"class",m=t[14].bgEvents),k(w,"class",x=t[14].events),k(T,"class",D=t[14].dayFoot),k(e,"class",E=t[14].day+" "+t[14].weekdays?.[t[0].getUTCDay()]+(t[9]?" "+t[14].today:"")+(t[10]?" "+t[14].otherMonth:"")+(t[11]?" "+t[14].highlight:"")),k(e,"role","cell")},m(l,a){f(l,e,a),d(e,n),d(e,i),d(e,c);for(let t=0;t<j.length;t+=1)j[t]&&j[t].m(c,null);d(e,v),L&&L.m(e,null),d(e,g),q&&q.m(e,null),d(e,$),d(e,w);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(w,null);d(e,_),O&&O.m(e,null),d(e,C),d(e,T),W&&W.m(T,null),t[39](e),M=!0,S||(z=[u(r=_e.call(null,n,t[16].format(t[0]))),b(e,"pointerleave",(function(){s(t[15].pointer?.leave)&&t[15].pointer?.leave.apply(this,arguments)})),b(e,"pointerdown",(function(){s(t[15].action?.select)&&t[15].action?.select.apply(this,arguments)}))],S=!0)},p(l,i){t=l,(!M||16384&i[0]&&a!==(a=t[14].dayHead))&&k(n,"class",a),(!M||1&i[0]&&o!==(o=Ae(t[0],10)))&&k(n,"datetime",o),r&&s(r.update)&&65537&i[0]&&r.update.call(null,t[16].format(t[0])),256&i[0]&&(R=t[8],tt(),j=ot(j,i,N,1,t,R,F,c,at,wl,null,bl),et()),(!M||16384&i[0]&&m!==(m=t[14].bgEvents))&&k(c,"class",m),5&i[0]&&(A=t[2][2]&&Pe(t[2][2].date,t[0])),A?L?(L.p(t,i),5&i[0]&&nt(L,1)):(L=kl(t),L.c(),nt(L,1),L.m(e,g)):L&&(tt(),lt(L,1,1,(()=>{L=null})),et()),5&i[0]&&(P=t[2][0]&&Pe(t[2][0].date,t[0])),P?q?(q.p(t,i),5&i[0]&&nt(q,1)):(q=xl(t),q.c(),nt(q,1),q.m(e,$)):q&&(tt(),lt(q,1,1,(()=>{q=null})),et()),8234&i[0]&&(I=t[5],tt(),H=ot(H,i,B,1,t,I,U,w,at,_l,null,$l),et()),(!M||16384&i[0]&&x!==(x=t[14].events))&&k(w,"class",x),t[7]?O?128&i[0]&&nt(O,1):(O=Cl(),O.c(),nt(O,1),O.m(e,C)):O&&(tt(),lt(O,1,1,(()=>{O=null})),et()),t[6].size?W?W.p(t,i):(W=Tl(t),W.c(),W.m(T,null)):W&&(W.d(1),W=null),(!M||16384&i[0]&&D!==(D=t[14].dayFoot))&&k(T,"class",D),(!M||19969&i[0]&&E!==(E=t[14].day+" "+t[14].weekdays?.[t[0].getUTCDay()]+(t[9]?" "+t[14].today:"")+(t[10]?" "+t[14].otherMonth:"")+(t[11]?" "+t[14].highlight:"")))&&k(e,"class",E)},i(t){if(!M){for(let t=0;t<R.length;t+=1)nt(j[t]);nt(L),nt(q);for(let t=0;t<I.length;t+=1)nt(H[t]);nt(O),M=!0}},o(t){for(let t=0;t<j.length;t+=1)lt(j[t]);lt(L),lt(q);for(let t=0;t<H.length;t+=1)lt(H[t]);lt(O),M=!1},d(n){n&&h(e);for(let t=0;t<j.length;t+=1)j[t].d();L&&L.d(),q&&q.d();for(let t=0;t<H.length;t+=1)H[t].d();O&&O.d(),W&&W.d(),t[39](null),S=!1,l(z)}}}function El(t,e,n){let l,s,a,o,r,u,d,f,h,m,p,v,g,y,$,b,{date:w}=e,{chunks:k}=e,{bgChunks:x}=e,{longChunks:_}=e,{iChunks:C=[]}=e,{dates:T}=e,{date:D,dayMaxEvents:E,highlightedDates:M,moreLinkContent:S,theme:z,_hiddenEvents:j,_intlDayCell:F,_popupDate:A,_popupChunks:P,_today:H,_interaction:N,_queue:q}=U("state");i(t,D,(t=>n(35,u=t))),i(t,M,(t=>n(34,r=t))),i(t,S,(t=>n(32,a=t))),i(t,z,(t=>n(14,f=t))),i(t,j,(t=>n(33,o=t))),i(t,F,(t=>n(16,m=t))),i(t,A,(t=>n(31,s=t))),i(t,P,(t=>n(40,l=t))),i(t,H,(t=>n(36,d=t))),i(t,N,(t=>n(15,h=t)));let I,B=new Set,O="",W=[];function Y(){let t=Se(Ee(w)),e=v.concat(_[w.getTime()]?.chunks||[]);c(P,l=e.map((e=>qe({},e,dn(e.event,w,t),{days:1,dates:[w]}))).sort(((t,e)=>t.top-e.top)),l)}return t.$$set=t=>{"date"in t&&n(0,w=t.date),"chunks"in t&&n(28,k=t.chunks),"bgChunks"in t&&n(29,x=t.bgChunks),"longChunks"in t&&n(1,_=t.longChunks),"iChunks"in t&&n(2,C=t.iChunks),"dates"in t&&n(3,T=t.dates)},t.$$.update=()=>{if(805306465&t.$$.dirty[0]){n(5,v=[]),n(8,g=x.filter((t=>Pe(t.date,w)))),B.clear(),n(6,B),n(29,x),n(0,w),n(28,k),n(5,v);for(let t of k)Pe(t.date,w)&&v.push(t)}if(65&t.$$.dirty[0]&&c(j,o[w.getTime()]=B,o),1&t.$$.dirty[0]|32&t.$$.dirty[1]&&n(9,y=Pe(w,d)),1&t.$$.dirty[0]|24&t.$$.dirty[1]&&(n(10,$=w.getUTCMonth()!==u.getUTCMonth()),n(11,b=r.some((t=>Pe(t,w))))),64&t.$$.dirty[0]|6&t.$$.dirty[1]&&o&&B.size){let t="+"+B.size+" more";n(12,O=a?We(a)?a({num:B.size,text:t}):a:t)}1&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(7,I=s&&Pe(w,s)),162&t.$$.dirty[0]&&I&&_&&v&&G().then(Y),17&t.$$.dirty[0]&&p&&function(t,e){t[en]=e}(p,(()=>({allDay:!0,date:w,resource:void 0,dayEl:p})))},[w,_,C,T,p,v,B,I,g,y,$,b,O,W,f,h,m,D,M,S,z,j,F,A,P,H,N,function(){c(A,s=w,s)},k,x,function(){vn(W,v)},s,a,o,r,u,d,function(e){R.call(this,t,e)},function(t,e){L[t?"unshift":"push"]((()=>{W[e]=t,n(13,W)}))},function(t){L[t?"unshift":"push"]((()=>{p=t,n(4,p)}))}]}class Ml extends dt{constructor(t){super(),ut(this,t,El,Dl,a,{date:0,chunks:28,bgChunks:29,longChunks:1,iChunks:2,dates:3,reposition:30},null,[-1,-1])}get reposition(){return this.$$.ctx[30]}}function Sl(t,e,n){const l=t.slice();return l[26]=e[n],l[27]=e,l[28]=n,l}function zl(t){let e,n,l=t[28];const s=()=>t[23](e,l),a=()=>t[23](null,l);let o={date:t[26],chunks:t[1],bgChunks:t[2],longChunks:t[3],iChunks:t[4],dates:t[0]};return e=new Ml({props:o}),s(),{c(){rt(e.$$.fragment)},m(t,l){it(e,t,l),n=!0},p(t,n){l!==t[28]&&(a(),l=t[28],s());const o={};1&n&&(o.date=t[26]),2&n&&(o.chunks=t[1]),4&n&&(o.bgChunks=t[2]),8&n&&(o.longChunks=t[3]),16&n&&(o.iChunks=t[4]),1&n&&(o.dates=t[0]),e.$set(o)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){a(),ct(e,t)}}}function jl(t){let e,n,l,s,a,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=zl(Sl(t,o,e));const i=t=>lt(r[t],1,1,(()=>{r[t]=null}));return{c(){e=p("div");for(let t=0;t<r.length;t+=1)r[t].c();k(e,"class",n=t[6].days),k(e,"role","row")},m(n,o){f(n,e,o);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null);l=!0,s||(a=b(window,"resize",t[14]),s=!0)},p(t,[s]){if(63&s){let n;for(o=t[0],n=0;n<o.length;n+=1){const l=Sl(t,o,n);r[n]?(r[n].p(l,s),nt(r[n],1)):(r[n]=zl(l),r[n].c(),nt(r[n],1),r[n].m(e,null))}for(tt(),n=o.length;n<r.length;n+=1)i(n);et()}(!l||64&s&&n!==(n=t[6].days))&&k(e,"class",n)},i(t){if(!l){for(let t=0;t<o.length;t+=1)nt(r[t]);l=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)lt(r[t]);l=!1},d(t){t&&h(e),m(r,t),s=!1,a()}}}function Fl(t,e,n){let l,s,a,o,r,c,u,{dates:d}=e,{_events:f,_iEvents:h,_queue2:m,_hiddenEvents:p,resources:v,filterEventsWithResources:g,hiddenDays:y,theme:$}=U("state");i(t,f,(t=>n(22,c=t))),i(t,h,(t=>n(19,a=t))),i(t,p,(t=>n(17,l=t))),i(t,v,(t=>n(20,o=t))),i(t,g,(t=>n(21,r=t))),i(t,y,(t=>n(18,s=t))),i(t,$,(t=>n(6,u=t)));let b,w,k,x,_,C=[],T=[],D={};function E(){Ve((()=>vn(T,d)),D,m)}return t.$$set=t=>{"dates"in t&&n(0,d=t.dates)},t.$$.update=()=>{if(1&t.$$.dirty&&(n(15,x=d[0]),n(16,_=Se(Ee(d.at(-1))))),7700486&t.$$.dirty){n(1,b=[]),n(2,w=[]);for(let t of c)if(gn(t,x,_,r?o:void 0)){let e=dn(t,x,_);$n(t.display)?t.allDay&&w.push(e):b.push(e)}pn(w,s),n(3,k=pn(b,s)),E()}884736&t.$$.dirty&&n(4,C=a.map((t=>{let e;return t&&gn(t,x,_)?(e=dn(t,x,_),pn([e],s)):e=null,e}))),131072&t.$$.dirty&&l&&G().then(E)},[d,b,w,k,C,T,u,f,h,p,v,g,y,$,E,x,_,l,s,a,o,r,c,function(t,e){L[t?"unshift":"push"]((()=>{T[e]=t,n(5,T)}))}]}class Al extends dt{constructor(t){super(),ut(this,t,Fl,jl,a,{dates:0})}}function Pl(t,e,n){const l=t.slice();return l[15]=e[n],l}function Hl(t){let e,n;return e=new Al({props:{dates:t[15]}}),{c(){rt(e.$$.fragment)},m(t,l){it(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.dates=t[15]),e.$set(l)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Ul(t){let e,n,l,s,a,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=Hl(Pl(t,o,e));const i=t=>lt(r[t],1,1,(()=>{r[t]=null}));return{c(){e=p("div"),n=p("div");for(let t=0;t<r.length;t+=1)r[t].c();k(n,"class",l=t[2].content),k(e,"class",s=t[2].body+(!0===t[1]?" "+t[2].uniform:""))},m(l,s){f(l,e,s),d(e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(n,null);t[13](e),a=!0},p(t,[c]){if(1&c){let e;for(o=t[0],e=0;e<o.length;e+=1){const l=Pl(t,o,e);r[e]?(r[e].p(l,c),nt(r[e],1)):(r[e]=Hl(l),r[e].c(),nt(r[e],1),r[e].m(n,null))}for(tt(),e=o.length;e<r.length;e+=1)i(e);et()}(!a||4&c&&l!==(l=t[2].content))&&k(n,"class",l),(!a||6&c&&s!==(s=t[2].body+(!0===t[1]?" "+t[2].uniform:"")))&&k(e,"class",s)},i(t){if(!a){for(let t=0;t<o.length;t+=1)nt(r[t]);a=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)lt(r[t]);a=!1},d(n){n&&h(e),m(r,n),t[13](null)}}}function Rl(t,e,n){let l,s,a,o,r,u,d,f,{_bodyEl:h,_viewDates:m,_hiddenEvents:p,dayMaxEvents:v,hiddenDays:g,theme:y}=U("state");return i(t,h,(t=>n(3,u=t))),i(t,m,(t=>n(11,l=t))),i(t,p,(t=>n(14,a=t))),i(t,v,(t=>n(1,s=t))),i(t,g,(t=>n(12,o=t))),i(t,y,(t=>n(2,r=t))),t.$$.update=()=>{if(7171&t.$$.dirty){n(0,d=[]),n(10,f=7-o.length),c(p,a={},a);for(let t=0;t<l.length/f;++t){let e=[];for(let n=0;n<f;++n)e.push(l[t*f+n]);d.push(e)}}},[d,s,r,u,h,m,p,v,g,y,f,l,o,function(t){L[t?"unshift":"push"]((()=>{u=t,h.set(u)}))}]}class Nl extends dt{constructor(t){super(),ut(this,t,Rl,Ul,a,{})}}function Ll(e){let n,l,s,a;return n=new ul({}),s=new Nl({}),{c(){rt(n.$$.fragment),l=y(),rt(s.$$.fragment)},m(t,e){it(n,t,e),f(t,l,e),it(s,t,e),a=!0},p:t,i(t){a||(nt(n.$$.fragment,t),nt(s.$$.fragment,t),a=!0)},o(t){lt(n.$$.fragment,t),lt(s.$$.fragment,t),a=!1},d(t){ct(n,t),t&&h(l),ct(s,t)}}}class ql extends dt{constructor(t){super(),ut(this,t,null,Ll,a,{})}}var Il={createOptions(t){t.dayMaxEvents=!1,t.dayCellFormat={day:"numeric"},t.dayPopoverFormat={month:"long",day:"numeric",year:"numeric"},t.moreLinkContent=void 0,t.buttonText.dayGridMonth="month",t.buttonText.close="Close",t.theme.uniform="ec-uniform",t.theme.dayFoot="ec-day-foot",t.theme.popup="ec-popup",t.view="dayGridMonth",t.views.dayGridMonth={buttonText:bn,component:ql,dayHeaderFormat:{weekday:"short"},dayHeaderAriaLabelFormat:{weekday:"long"},displayEventEnd:!1,duration:{months:1},theme:wn("ec-day-grid ec-month-view"),titleFormat:{year:"numeric",month:"long"}}},createStores(t){t._days=function(t){return pt([t.date,t.firstDay,t.hiddenDays],(([t,e,n])=>{let l=[],s=Ee(t),a=7;for(;s.getUTCDay()!==e&&a;)ze(s),--a;for(let t=0;t<7;++t)n.includes(s.getUTCDay())||l.push(Ee(s)),Se(s);return l}))}(t),t._intlDayCell=_n(t.locale,t.dayCellFormat),t._intlDayPopover=_n(t.locale,t.dayPopoverFormat),t._hiddenEvents=mt({}),t._popupDate=mt(null),t._popupChunks=mt([])}};function Bl(t,e,n){const l=t.slice();return l[8]=e[n],l}function Ol(t){let e,n,l,s,a,o,r,i,c,u=Vl(t[8].date)+"",m=t[8].employee_id+"",v=t[8].shift.toUpperCase()+"";return{c(){e=p("li"),n=p("b"),l=g(u),s=p("br"),a=g("\n\t\t\t\tEmployee No. "),o=g(m),r=g(": "),i=g(v),c=g(" WFH\n\t\t\t"),k(e,"class","svelte-abrv17")},m(t,u){f(t,e,u),d(e,n),d(n,l),d(e,s),d(e,a),d(e,o),d(e,r),d(e,i),d(e,c)},p(t,e){4&e&&u!==(u=Vl(t[8].date)+"")&&x(l,u),4&e&&m!==(m=t[8].employee_id+"")&&x(o,m),4&e&&v!==(v=t[8].shift.toUpperCase()+"")&&x(i,v)},d(t){t&&h(e)}}}function Wl(t){let e,n,s,a,o,r,i,c,u,v,$,w,x,_,T,D,E,M,S,z,j,F,A,P,H,U;x=new al({props:{plugins:t[3],options:t[1]}});let R=t[2],N=[];for(let e=0;e<R.length;e+=1)N[e]=Ol(Bl(t,R,e));return{c(){e=p("main"),n=p("h1"),n.textContent="Your Timetable",s=y(),a=p("div"),o=p("div"),r=g("Self"),c=y(),u=p("div"),v=g("Team"),w=y(),rt(x.$$.fragment),_=y(),T=p("ul");for(let t=0;t<N.length;t+=1)N[t].c();D=y(),E=p("div"),M=p("div"),S=p("span"),S.textContent="×",z=y(),j=p("h2"),j.innerHTML='<span id="modalEventTitle"></span>',F=y(),A=p("p"),k(n,"class","svelte-abrv17"),k(o,"class",i="current-view-box "+("self"===t[0]?"active":"")+" svelte-abrv17"),k(u,"class",$="current-view-box "+("team"===t[0]?"active":"")+" svelte-abrv17"),k(a,"class","current-view-container svelte-abrv17"),k(S,"class","close-button svelte-abrv17"),k(A,"id","modalEventDetails"),k(M,"class","modal-content svelte-abrv17"),k(E,"id","eventModal"),k(E,"class","modal svelte-abrv17"),C(E,"display","none"),k(e,"class","svelte-abrv17")},m(l,i){f(l,e,i),d(e,n),d(e,s),d(e,a),d(a,o),d(o,r),d(a,c),d(a,u),d(u,v),d(e,w),it(x,e,null),d(e,_),d(e,T);for(let t=0;t<N.length;t+=1)N[t]&&N[t].m(T,null);d(e,D),d(e,E),d(E,M),d(M,S),d(M,z),d(M,j),d(M,F),d(M,A),P=!0,H||(U=[b(o,"click",t[5]),b(u,"click",t[6]),b(S,"click",Yl)],H=!0)},p(t,[e]){(!P||1&e&&i!==(i="current-view-box "+("self"===t[0]?"active":"")+" svelte-abrv17"))&&k(o,"class",i),(!P||1&e&&$!==($="current-view-box "+("team"===t[0]?"active":"")+" svelte-abrv17"))&&k(u,"class",$);const n={};if(2&e&&(n.options=t[1]),x.$set(n),4&e){let n;for(R=t[2],n=0;n<R.length;n+=1){const l=Bl(t,R,n);N[n]?N[n].p(l,e):(N[n]=Ol(l),N[n].c(),N[n].m(T,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=R.length}},i(t){P||(nt(x.$$.fragment,t),P=!0)},o(t){lt(x.$$.fragment,t),P=!1},d(t){t&&h(e),ct(x),m(N,t),H=!1,l(U)}}}let Gl="130002";function Yl(){document.getElementById("eventModal").style="display:none;"}function Vl(t){let e=new Date(Date.parse(t)),n=e.getDate(),l=e.getMonth()+1;return n<10&&(n="0"+n),l<10&&(l="0"+l),`${n}/${l}/${e.getFullYear()}`}function Jl(t,e,n){let l="self",s=[Il],a={events:[],eventClick(t){document.getElementById("modalEventTitle").innerText=Vl(t.event.start),document.getElementById("modalEventDetails").innerText=t.event.title.slice(-6)+" for employee no. "+t.event.title.slice(0,6),document.getElementById("eventModal").style.display="block"}};function o(t){n(0,l=t),i()}let r=[];async function i(){const t="self"===l?`${vt.base_url}/employee_view_own_ttbl?eid=${Gl}`:`${vt.base_url}/employee_view_team_ttbl?eid=${Gl}`;try{const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch data");const l=await e.json();n(2,r=[]),n(1,a.events=[],a),r.push(...l.arrangements);for(let t of r){let e=new Date(Date.parse(t.date));a.events.push({title:t.employee_id+": "+t.shift.toUpperCase()+" WFH",start:e,end:e,allDay:!0})}n(2,r=[...r]),r.sort(((t,e)=>new Date(t.date)-new Date(e.date))),n(1,a.events=[...a.events],a)}catch(t){console.error("Error fetching data:",t)}}F((()=>{i()}));return[l,a,r,s,o,()=>o("self"),()=>o("team")]}class Kl extends dt{constructor(t){super(),ut(this,t,Jl,Wl,a,{})}}function Ql(t,e,n){const l=t.slice();return l[9]=e[n],l}function Xl(t){let e,n,s,a,o,r,i,c,u,m,v,$,w,_,C,T,D,E,M,S,z,j,F,A,P,H,U,R,N,L,q,I,B=t[9].arrangementId+"",O=t[9].created_at+"",W=t[9].date+"",G=t[9].employee_id+"",Y=t[9].notes+"",V=t[9].shift+"",J=t[9].status+"",K=t[9].supervisors+"";function Q(){return t[5](t[9])}function X(){return t[6](t[9])}return{c(){e=p("tr"),n=p("td"),s=g(B),a=y(),o=p("td"),r=g(O),i=y(),c=p("td"),u=g(W),m=y(),v=p("td"),$=g(G),w=y(),_=p("td"),C=g(Y),T=y(),D=p("td"),E=g(V),M=y(),S=p("td"),z=g(J),j=y(),F=p("td"),A=g(K),P=y(),H=p("td"),U=p("button"),U.textContent="Edit",R=y(),N=p("button"),N.textContent="Cancel",L=y(),k(n,"class","svelte-edfnmy"),k(o,"class","svelte-edfnmy"),k(c,"class","svelte-edfnmy"),k(v,"class","svelte-edfnmy"),k(_,"class","svelte-edfnmy"),k(D,"class","svelte-edfnmy"),k(S,"class","svelte-edfnmy"),k(F,"class","svelte-edfnmy"),k(U,"class","svelte-edfnmy"),k(N,"class","svelte-edfnmy"),k(H,"class","svelte-edfnmy")},m(t,l){f(t,e,l),d(e,n),d(n,s),d(e,a),d(e,o),d(o,r),d(e,i),d(e,c),d(c,u),d(e,m),d(e,v),d(v,$),d(e,w),d(e,_),d(_,C),d(e,T),d(e,D),d(D,E),d(e,M),d(e,S),d(S,z),d(e,j),d(e,F),d(F,A),d(e,P),d(e,H),d(H,U),d(H,R),d(H,N),d(e,L),q||(I=[b(U,"click",Q),b(N,"click",X)],q=!0)},p(e,n){t=e,1&n&&B!==(B=t[9].arrangementId+"")&&x(s,B),1&n&&O!==(O=t[9].created_at+"")&&x(r,O),1&n&&W!==(W=t[9].date+"")&&x(u,W),1&n&&G!==(G=t[9].employee_id+"")&&x($,G),1&n&&Y!==(Y=t[9].notes+"")&&x(C,Y),1&n&&V!==(V=t[9].shift+"")&&x(E,V),1&n&&J!==(J=t[9].status+"")&&x(z,J),1&n&&K!==(K=t[9].supervisors+"")&&x(A,K)},d(t){t&&h(e),q=!1,l(I)}}}function Zl(e){let n,s,a,o,r,i,c,u,m;return{c(){n=p("div"),s=p("div"),a=p("p"),a.textContent="Are you sure you want to cancel this request?",o=y(),r=p("button"),r.textContent="Yes",i=y(),c=p("button"),c.textContent="Back",k(r,"class","svelte-edfnmy"),k(c,"class","svelte-edfnmy"),k(s,"class","modal-content svelte-edfnmy"),k(n,"class","overlay svelte-edfnmy")},m(t,l){f(t,n,l),d(n,s),d(s,a),d(s,o),d(s,r),d(s,i),d(s,c),u||(m=[b(r,"click",e[2]),b(c,"click",e[4])],u=!0)},p:t,d(t){t&&h(n),u=!1,l(m)}}}function ts(e){let n,l,s,a,o,r,i,c,u=e[0],v=[];for(let t=0;t<u.length;t+=1)v[t]=Xl(Ql(e,u,t));let g=e[1]&&Zl(e);return{c(){n=p("main"),l=p("h1"),l.textContent="Pending Arrangements",s=y(),a=p("table"),o=p("thead"),o.innerHTML='<tr><th class="svelte-edfnmy">Arrangement ID</th> \n                <th class="svelte-edfnmy">Date Created</th> \n                <th class="svelte-edfnmy">Date of Shift</th> \n                <th class="svelte-edfnmy">Employee ID</th> \n                <th class="svelte-edfnmy">Notes</th> \n                <th class="svelte-edfnmy">Shift</th> \n                <th class="svelte-edfnmy">Status</th> \n                <th class="svelte-edfnmy">Supervisors</th> \n                <th class="svelte-edfnmy">Action</th></tr>',r=y(),i=p("tbody");for(let t=0;t<v.length;t+=1)v[t].c();c=y(),g&&g.c(),k(l,"class","svelte-edfnmy"),k(a,"class","svelte-edfnmy")},m(t,e){f(t,n,e),d(n,l),d(n,s),d(n,a),d(a,o),d(a,r),d(a,i);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(i,null);d(n,c),g&&g.m(n,null)},p(t,[e]){if(9&e){let n;for(u=t[0],n=0;n<u.length;n+=1){const l=Ql(t,u,n);v[n]?v[n].p(l,e):(v[n]=Xl(l),v[n].c(),v[n].m(i,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=u.length}t[1]?g?g.p(t,e):(g=Zl(t),g.c(),g.m(n,null)):g&&(g.d(1),g=null)},i:t,o:t,d(t){t&&h(n),m(v,t),g&&g.d()}}}function es(t,e,n){let l=[],s=!1,a=null;async function o(){try{const t=await fetch(`${vt.base_url}/pending-arrangements?eid=130002`);if(!t.ok)throw new Error("Network response was not ok");n(0,l=await t.json())}catch(t){console.error("Error fetching table data:",t)}}function r(t){a=t,n(1,s=!0)}F(o);return[l,s,async function(){try{if(!(await fetch(`${vt.base_url}/arrangements/cancel?aID=${a.arrangementId}`,{method:"POST"})).ok)throw new Error("Failed to cancel request");await o(),n(0,l=l.filter((t=>"pending"==t.status))),n(1,s=!1),a=null}catch(t){console.error("Error updating status:",t)}},r,function(){n(1,s=!1),a=null},t=>{alert("Editing shift!")},t=>r(t)]}class ns extends dt{constructor(t){super(),ut(this,t,es,ts,a,{})}}function ls(e){let n,l;return n=new ue({}),{c(){rt(n.$$.fragment)},m(t,e){it(n,t,e),l=!0},p:t,i(t){l||(nt(n.$$.fragment,t),l=!0)},o(t){lt(n.$$.fragment,t),l=!1},d(t){ct(n,t)}}}function ss(t){let e,n,s,a,o,r,i,c,u,m,v,g,$,w,x,_,C,T,D,M,S,z,j,F,A,P;const H=[us,cs,is,rs,os,as],U=[];function R(t,e){return"/withdrawal-request"===t[2]?0:"/apply"===t[2]?1:"/employee-timetable"===t[2]?2:"/hr-view-timetable"===t[2]?3:"/manager-timetable"===t[2]?4:"/cancel-request"===t[2]?5:-1}~(c=R(t))&&(u=U[c]=H[c](t));let N=t[1]&&ds(t);return{c(){e=p("main"),n=p("nav"),s=p("button"),s.textContent="Withdrawals",a=y(),o=p("button"),o.textContent="Apply",r=y(),i=p("div"),u&&u.c(),m=y(),v=p("button"),v.textContent="Apply",g=y(),N&&N.c(),$=y(),w=p("nav"),x=p("button"),x.textContent="View Own Schedule",_=y(),C=p("button"),C.textContent="Withdrawal Request",T=y(),D=p("button"),D.textContent="HR Timetable",M=y(),S=p("button"),S.textContent="Cancel Request",z=y(),j=p("button"),j.textContent="Manager Timetable",k(s,"class","nav-link svelte-plq71i"),E(s,"active","/withdrawal-request"===t[2]),k(o,"class","nav-link svelte-plq71i"),E(o,"active","/apply"===t[2]),k(n,"class","top-nav svelte-plq71i"),k(i,"class","content svelte-plq71i"),E(i,"transitioning",t[3]),k(v,"class","apply-button svelte-plq71i"),k(x,"class","svelte-plq71i"),E(x,"active","/employee-timetable"===t[2]),k(C,"class","svelte-plq71i"),E(C,"active","/withdrawal-request"===t[2]),k(D,"class","svelte-plq71i"),E(D,"active","/hr-view-timetable"===t[2]),k(S,"class","svelte-plq71i"),E(S,"active","/cancel-request"===t[2]),k(j,"class","svelte-plq71i"),E(j,"active","/manager-timetable"===t[2]),k(w,"class","function-nav svelte-plq71i"),k(e,"class","svelte-plq71i")},m(l,u){f(l,e,u),d(e,n),d(n,s),d(n,a),d(n,o),d(e,r),d(e,i),~c&&U[c].m(i,null),d(e,m),d(e,v),d(e,g),N&&N.m(e,null),d(e,$),d(e,w),d(w,x),d(w,_),d(w,C),d(w,T),d(w,D),d(w,M),d(w,S),d(w,z),d(w,j),F=!0,A||(P=[b(s,"click",t[10]),b(o,"click",t[11]),b(v,"click",t[6]),b(x,"click",t[12]),b(C,"click",t[13]),b(D,"click",t[14]),b(S,"click",t[15]),b(j,"click",t[16])],A=!0)},p(t,n){(!F||4&n)&&E(s,"active","/withdrawal-request"===t[2]),(!F||4&n)&&E(o,"active","/apply"===t[2]);let l=c;c=R(t),c===l?~c&&U[c].p(t,n):(u&&(tt(),lt(U[l],1,1,(()=>{U[l]=null})),et()),~c?(u=U[c],u?u.p(t,n):(u=U[c]=H[c](t),u.c()),nt(u,1),u.m(i,null)):u=null),(!F||8&n)&&E(i,"transitioning",t[3]),t[1]?N?(N.p(t,n),2&n&&nt(N,1)):(N=ds(t),N.c(),nt(N,1),N.m(e,$)):N&&(tt(),lt(N,1,1,(()=>{N=null})),et()),(!F||4&n)&&E(x,"active","/employee-timetable"===t[2]),(!F||4&n)&&E(C,"active","/withdrawal-request"===t[2]),(!F||4&n)&&E(D,"active","/hr-view-timetable"===t[2]),(!F||4&n)&&E(S,"active","/cancel-request"===t[2]),(!F||4&n)&&E(j,"active","/manager-timetable"===t[2])},i(t){F||(nt(u),nt(N),F=!0)},o(t){lt(u),lt(N),F=!1},d(t){t&&h(e),~c&&U[c].d(),N&&N.d(),A=!1,l(P)}}}function as(e){let n,l;return n=new ns({}),{c(){rt(n.$$.fragment)},m(t,e){it(n,t,e),l=!0},p:t,i(t){l||(nt(n.$$.fragment,t),l=!0)},o(t){lt(n.$$.fragment,t),l=!1},d(t){ct(n,t)}}}function os(e){let n,l;return n=new ke({}),{c(){rt(n.$$.fragment)},m(t,e){it(n,t,e),l=!0},p:t,i(t){l||(nt(n.$$.fragment,t),l=!0)},o(t){lt(n.$$.fragment,t),l=!1},d(t){ct(n,t)}}}function rs(e){let n,l;return n=new se({}),{c(){rt(n.$$.fragment)},m(t,e){it(n,t,e),l=!0},p:t,i(t){l||(nt(n.$$.fragment,t),l=!0)},o(t){lt(n.$$.fragment,t),l=!1},d(t){ct(n,t)}}}function is(e){let n,l;return n=new Kl({}),{c(){rt(n.$$.fragment)},m(t,e){it(n,t,e),l=!0},p:t,i(t){l||(nt(n.$$.fragment,t),l=!0)},o(t){lt(n.$$.fragment,t),l=!1},d(t){ct(n,t)}}}function cs(e){let n,l;return n=new zt({}),n.$on("close",e[7]),{c(){rt(n.$$.fragment)},m(t,e){it(n,t,e),l=!0},p:t,i(t){l||(nt(n.$$.fragment,t),l=!0)},o(t){lt(n.$$.fragment,t),l=!1},d(t){ct(n,t)}}}function us(e){let n,l;return n=new Gt({}),{c(){rt(n.$$.fragment)},m(t,e){it(n,t,e),l=!0},p:t,i(t){l||(nt(n.$$.fragment,t),l=!0)},o(t){lt(n.$$.fragment,t),l=!1},d(t){ct(n,t)}}}function ds(e){let n,l;return n=new zt({}),n.$on("close",e[7]),{c(){rt(n.$$.fragment)},m(t,e){it(n,t,e),l=!0},p:t,i(t){l||(nt(n.$$.fragment,t),l=!0)},o(t){lt(n.$$.fragment,t),l=!1},d(t){ct(n,t)}}}function fs(t){let e,n,l,s;const a=[ss,ls],o=[];function r(t,e){return t[0]?0:1}return e=r(t),n=o[e]=a[e](t),{c(){n.c(),l=$()},m(t,n){o[e].m(t,n),f(t,l,n),s=!0},p(t,[s]){let i=e;e=r(t),e===i?o[e].p(t,s):(tt(),lt(o[i],1,1,(()=>{o[i]=null})),et(),n=o[e],n?n.p(t,s):(n=o[e]=a[e](t),n.c()),nt(n,1),n.m(l.parentNode,l))},i(t){s||(nt(n),s=!0)},o(t){lt(n),s=!1},d(t){o[e].d(t),t&&h(l)}}}function hs(t,e,n){let l,s,a,o;i(t,oe,(t=>n(17,s=t))),i(t,ae,(t=>n(9,a=t)));let r=""!==a;s.sub,s.role,s.first_name,s.last_name;const c=mt("/");i(t,c,(t=>n(2,l=t)));const u=mt(!1);i(t,u,(t=>n(3,o=t)));let d=!1;const f=async t=>{l!==t&&(u.set(!0),await new Promise((t=>setTimeout(t,100))),c.set(t),u.set(!1))};"undefined"!=typeof window&&(window.onpopstate=t=>{t.state?.path&&f(t.state.path)});return t.$$.update=()=>{512&t.$$.dirty&&n(0,r=""!==a)},[r,d,l,o,c,u,()=>{n(1,d=!0),console.log("Modal opened")},()=>{n(1,d=!1),console.log("Modal closed")},f,a,()=>f("/withdrawal-request"),()=>f("/apply"),()=>f("/employee-timetable"),()=>f("/withdrawal-request"),()=>f("/hr-view-timetable"),()=>f("/cancel-request"),()=>f("/manager-timetable")]}return new class extends dt{constructor(t){super(),ut(this,t,hs,fs,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
